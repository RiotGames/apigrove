<?xml version="1.0" encoding="UTF-8"?>
<!--

    Copyright Â© 2012 Alcatel-Lucent.

    See the NOTICE file distributed with this work for additional
    information regarding copyright ownership.
    Licensed to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

             http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->
<con:soapui-project name="auth-basic" resourceRoot="" soapui-version="4.0.1" abortOnError="false" runType="SEQUENTIAL" activeEnvironment="Default" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" wadlVersion="http://wadl.dev.java.net/2009/02" name="request" type="rest" basePath="" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://${#Project#E3Gateway}/api-parameters-endpoint1?param1=value1&amp;key=api-parameters-key1&amp;param2=value2</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-parameters-endpoint2/five?key=api-parameters-key2</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-parameters-endpoint2/three/five?key=api-parameters-key2</con:endpoint></con:endpoints><con:resource name="apiauth" path="{apiauth}"><con:settings/><con:parameters><con:parameter><con:name>apiauth</con:name><con:value/><con:style>TEMPLATE</con:style><con:default/></con:parameter></con:parameters><con:method name="get, 1 param, 1 key" method="GET"><con:settings/><con:parameters><con:parameter><con:name>key</con:name><con:value>mykey</con:value><con:style>QUERY</con:style><con:default>mykey</con:default></con:parameter><con:parameter><con:name>param1</con:name><con:style>QUERY</con:style></con:parameter></con:parameters><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403 500 429</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="get, 3 params, key first" method="GET"><con:settings/><con:parameters><con:parameter><con:name>key</con:name><con:value>mykey</con:value><con:style>QUERY</con:style><con:default>mykey</con:default></con:parameter><con:parameter><con:name>param1</con:name><con:value>value1</con:value><con:style>QUERY</con:style><con:default>value1</con:default></con:parameter><con:parameter><con:name>param2</con:name><con:value>value2</con:value><con:style>QUERY</con:style><con:default>value2</con:default></con:parameter></con:parameters><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="get, 3 params, key middle" method="GET"><con:settings/><con:parameters><con:parameter><con:name>param1</con:name><con:value>value1</con:value><con:style>QUERY</con:style><con:default>value1</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>key</con:name><con:value>mykey</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>mykey</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>param2</con:name><con:value>value2</con:value><con:style>QUERY</con:style><con:default>value2</con:default></con:parameter></con:parameters><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="get, 3 params, key last" method="GET"><con:settings/><con:parameters><con:parameter><con:name>param1</con:name><con:value>value1</con:value><con:style>QUERY</con:style><con:default>value1</con:default></con:parameter><con:parameter><con:name>param2</con:name><con:value>value2</con:value><con:style>QUERY</con:style><con:default>value2</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>key</con:name><con:value>mykey</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>mykey</con:default><con:description xsi:nil="true"/></con:parameter></con:parameters><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="get, 0 params, no key" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=ISO-8859-1</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="get, 1 param, no key" method="GET"><con:settings/><con:parameters><con:parameter><con:name>param1</con:name><con:style>QUERY</con:style></con:parameter></con:parameters><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403 500 429</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="get, 1 key, no params" method="GET"><con:settings/><con:parameters><con:parameter><con:name>key</con:name><con:style>QUERY</con:style></con:parameter></con:parameters><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403 500 429</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=ISO-8859-1</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="get, endpoint/path2 to target/path2" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=ISO-8859-1</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="get, simple" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=ISO-8859-1</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="apiauth/three" path="apiauth/path2"><con:settings/><con:parameters/><con:method name="get, endpoint/path2 to target/path2" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=ISO-8859-1</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="get, target/path2, 1 param" method="GET"><con:settings/><con:parameters><con:parameter><con:name>param1</con:name><con:style>QUERY</con:style></con:parameter></con:parameters><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=ISO-8859-1</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="get, target/path2, 1 param, 1 key" method="GET"><con:settings/><con:parameters><con:parameter><con:name>param1</con:name><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>key</con:name><con:style>QUERY</con:style></con:parameter></con:parameters><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=ISO-8859-1</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="get, target/path2, 1 key" method="GET"><con:settings/><con:parameters><con:parameter><con:name>key</con:name><con:style>QUERY</con:style></con:parameter></con:parameters><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=ISO-8859-1</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="/apiauth/three/" path="apiauth/path2/"><con:settings/><con:parameters/><con:method name="get, endpoint/path2/ to target/path2" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=ISO-8859-1</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="get, target/path2, 1 param" method="GET"><con:settings/><con:parameters><con:parameter><con:name>param1</con:name><con:style>QUERY</con:style></con:parameter></con:parameters><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=ISO-8859-1</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="get, target/path2, 1 param, 1 key" method="GET"><con:settings/><con:parameters><con:parameter><con:name>param1</con:name><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>key</con:name><con:style>QUERY</con:style></con:parameter></con:parameters><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=ISO-8859-1</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="apiauth/" path="apiauth/"><con:settings/><con:parameters/><con:method name="get, 0 params, no key" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=ISO-8859-1</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="apiauth/four" path="apiauth/four"><con:settings/><con:parameters/><con:method name="get, 0 params, no key" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403 500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=ISO-8859-1</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html; charset=iso-8859-1</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="apiauth/four/five.html" path="apiauth/four/five.html"><con:settings/><con:parameters/><con:method name="get, 0 params, no key" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=ISO-8859-1</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="root" path="/"><con:settings/><con:parameters/><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>403 500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings/><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" wadlVersion="http://wadl.dev.java.net/2009/02" name="EndPoint-test" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:settings/>
		
		<con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://${#Project#E3Gateway}/auth-extended-endpoint1?key=auth-extended-key1</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/auth-extended-endpoint1</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/auth-key-endpoint2</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-header-transform-endpoint1?key=api-header-transform-key1</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-header-transform-endpoint2?key=api-header-transform-key2</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-header-transform-endpoint3?key=api-header-transform-key3</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/provision-api-ext-endpoint1</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/provision-api-ext-endpoint3?key=provision-api-ext-key3</con:endpoint><con:endpoint>https://${#Project#E3Gateway}/tls2ways-call-expired-endpoint1</con:endpoint><con:endpoint>https://${#Project#E3Gateway}/tls2ways-call-ko-endpoint1</con:endpoint><con:endpoint>https://${#Project#E3Gateway}/tls2ways-call-no-cert-endpoint1</con:endpoint><con:endpoint>https://${#Project#E3Gateway}/tls2ways-call-ok-endpoint1</con:endpoint><con:endpoint>https://${#Project#E3Gateway}:25101/provision-sslkey-endpoint3</con:endpoint><con:endpoint>https://${#Project#E3Gateway}:25101/provision-sslkey-endpoint4?key=provision-sslkey-key4</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/tdr-smoke-endpoint1?key=tdr-smoke-key1</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/tdr-endpoint1?key=tdr-key1</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/rate-limit-aib-and-cluster-endpoint2?key=rate-limit-aib-and-cluster-key2</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/rate-limit-aib-and-cluster-endpoint3?key=rate-limit-aib-and-cluster-key3</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/rate-limit-aib-endpoint2</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/rate-limit-aib-endpoint3?key=rate-limit-aib-key3</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint5?key=api-provision-key5</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint5_2?key=api-provision-key5</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint6?key=api-provision-key6</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint6_2?key=api-provision-key6</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint7?key=api-provision-key7</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint8_2?key=api-provision-key8</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint8</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint9</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint9_2</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint9_2?key=api-provision-key9</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint10</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint10_2</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint10_2?key=api-provision-key10</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint11</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint11_2</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint11_2?key=api-provision-key11</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint12</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint12_2</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint12_2?key=api-provision-key12</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint13</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint13_2</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint13_2?key=api-provision-key13</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint18?key=api-provision-key18</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint18_2?key=api-provision-key18</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint19?key=api-provision-key19</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-provision-endpoint19_2?key=api-provision-key19</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/auth-type-ip-white-list-endpoint2</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/auth-type-ip-white-list-endpoint3</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/auth-type-ip-white-list-endpoint4</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/auth-type-ip-white-list-endpoint5</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/auth-type-ip-white-list-endpoint9</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/auth-basic-endpoint4</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/provision-api-loadbalancing-endpoint1?uniqueId=${#TestCase#uniqueId}</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/provision-api-loadbalancing-endpoint2?uniqueId=${#TestCase#uniqueId}</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/provision-api-loadbalancing-endpoint3?uniqueId=${#TestCase#uniqueId}</con:endpoint></con:endpoints>
		<con:resource name="EndPoint Target" path="">
			<con:settings/>
			<con:parameters/>
			<con:method name="GET With AuthKey" method="GET">
				<con:settings/>
				<con:parameters><con:parameter required="true"><con:name>key</con:name><con:value/><con:style>QUERY</con:style><con:default/></con:parameter></con:parameters>
				<con:representation type="RESPONSE">
					<con:mediaType>text/html</con:mediaType>
					<con:status>200</con:status>
					<con:params/>
					<con:element>html</con:element>
				</con:representation>
				<con:representation type="RESPONSE">
					<con:mediaType xsi:nil="true"/>
					<con:status>0</con:status>
					<con:params/>
					<con:element>data</con:element>
				</con:representation>
				<con:representation type="FAULT">
					<con:mediaType>text/plain</con:mediaType>
					<con:status>500 403 401 429</con:status>
					<con:params/>
					<con:element>data</con:element>
				</con:representation>
				<con:representation type="RESPONSE">
					<con:mediaType xsi:nil="true"/>
					<con:status>200</con:status>
					<con:params/>
					<con:element>data</con:element>
				</con:representation>
				<con:representation type="RESPONSE">
					<con:mediaType xsi:nil="true"/>
					<con:status>200</con:status>
					<con:params/>
					<con:element>data</con:element>
				</con:representation>
				<con:representation type="FAULT">
					<con:mediaType>text/html</con:mediaType>
					<con:status>404</con:status>
					<con:params/>
					<con:element>html</con:element>
				</con:representation>
				<con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation>
			<con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/xml</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request - Valid AuthKey" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="WAIT" value="0"/>
  &lt;con:entry key="SIZE" value="100"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/endpoint1</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="key" value="e88ba0c1e4c34f25bf95733eebd8574f" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request><con:request name="Request - Invalid AuthKey" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="WAIT" value="0"/>
  &lt;con:entry key="SIZE" value="100"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/endpoint1</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method>
		<con:method name="GET With No Param" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>401 403 429 500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/xml</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request - With No Param" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="WAIT" value="0"/>
  &lt;con:entry key="SIZE" value="100"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/endpoint1</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="GET With Authorization Header" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>401 500 429 403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/xml</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request - Valid Basic" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Basic dGVzdGVyOnRlc3RlcnBhc3N3b3Jk"/>
  &lt;con:entry key="WAIT" value="0"/>
  &lt;con:entry key="SIZE" value="100"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/endpoint1</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request><con:request name="Request - Invalid Basic" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Basic invalidbasic"/>
  &lt;con:entry key="WAIT" value="0"/>
  &lt;con:entry key="SIZE" value="100"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/endpoint1</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="m1" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/xml</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="WAIT" value="0"/>
  &lt;con:entry key="SIZE" value="100"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/endpoint1?key=e88ba0c1e4c34f25bf95733eebd8574f</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource>
	</con:interface><con:interface xsi:type="con:RestService" wadlVersion="http://wadl.dev.java.net/2009/02" name="smoke" type="rest" basePath="/cxf/e3/prov/v1" definitionUrl="http://${#Project#E3Gateway}:8181/cxf/e3/prov/v1?_wadl&amp;_type=xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://${#Project#E3Gateway}:8181/cxf/e3/prov/v1?_wadl&amp;_type=xml"><con:part><con:url>http://${#Project#E3Gateway}:8181/cxf/e3/prov/v1?_wadl&amp;_type=xml</con:url><con:content><![CDATA[<application xmlns="http://wadl.dev.java.net/2009/02" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <grammars/>
  <resources base="http://${#Project#E3Gateway}:8181/cxf/e3/prov/v1">
    <resource path="/apis">
      <doc>E3 REST API to create, update or delete an API</doc>
      <method name="GET">
        <doc>Used to get all API IDs.</doc>
        <response>
          <representation mediaType="application/xml"/>
        </response>
      </method>
      <method name="POST">
        <doc>This REST API is used to create an API.</doc>
        <request>
          <representation mediaType="application/xml"/>
        </request>
        <response>
          <representation mediaType="application/xml"/>
        </response>
      </method>
      <resource path="/{API_ID}">
        <param name="API_ID" style="template" type="xs:string"/>
        <method name="DELETE">
          <doc>This REST API is used to delete an API.</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
        <method name="GET">
          <doc>Used to get an API by this ID.</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
        <method name="PUT">
          <doc>This REST API is used to update an API.</doc>
          <request>
            <representation mediaType="application/xml"/>
          </request>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
      </resource>
    </resource>
    <resource path="/policies">
      <doc>E3 REST API to create, update or delete a policy</doc>
      <method name="GET">
        <doc>This REST API is used to fetch all policy ids.</doc>
        <response>
          <representation mediaType="application/xml"/>
        </response>
      </method>
      <method name="POST">
        <doc>This REST API is used to create a policy.</doc>
        <request>
          <representation mediaType="application/xml"/>
        </request>
        <response>
          <representation mediaType="application/xml"/>
        </response>
      </method>
      <resource path="/{POLICY_ID}">
        <param name="POLICY_ID" style="template" type="xs:string"/>
        <method name="DELETE">
          <doc>This REST API is used to delete a policy.</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
        <method name="GET">
          <doc>This REST API is used to fetch policy data.</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
        <method name="PUT">
          <doc>This REST API is used to update a policy.</doc>
          <request>
            <representation mediaType="application/xml"/>
          </request>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
      </resource>
      <resource path="/{POLICY_ID}/quotaRLBuckets">
        <param name="POLICY_ID" style="template" type="xs:string"/>
        <method name="POST">
          <doc>This REST API is used to create a QuotaRLBucket in a policy.</doc>
          <request>
            <representation mediaType="application/xml"/>
          </request>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
      </resource>
      <resource path="/{POLICY_ID}/quotaRLBuckets/{BUCKET_ID}">
        <param name="POLICY_ID" style="template" type="xs:string"/>
        <param name="BUCKET_ID" style="template" type="xs:string"/>
        <method name="DELETE">
          <doc>This REST API is used to remove a bucket from a policy.</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
        <method name="PUT">
          <doc>This REST API is used to append auths to a bucket.</doc>
          <request>
            <representation mediaType="application/xml"/>
          </request>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
      </resource>
      <resource path="/{POLICY_ID}/quotaRLBuckets/{BUCKET_ID}/auths/{AUTH_ID}">
        <param name="POLICY_ID" style="template" type="xs:string"/>
        <param name="BUCKET_ID" style="template" type="xs:string"/>
        <param name="AUTH_ID" style="template" type="xs:string"/>
        <method name="DELETE">
          <doc>This REST API is used to remove an auth from a bucket.</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
      </resource>
    </resource>
    <resource path="/auths">
      <doc>E3 REST API provision authentications on E3 subsystem</doc>
      <method name="GET">
        <doc>This REST API is used to get all authentications from E3 subsystem.</doc>
        <response>
          <representation mediaType="application/xml"/>
        </response>
      </method>
      <method name="POST">
        <doc>This REST API is used to create an authentication element on E3 subsystem.</doc>
        <request>
          <representation mediaType="application/xml"/>
        </request>
        <response>
          <representation mediaType="application/xml"/>
        </response>
      </method>
      <resource path="/{AUTH_ID}">
        <param name="AUTH_ID" style="template" type="xs:string"/>
        <method name="DELETE">
          <doc>This REST API is used to delete an Auth.</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
        <method name="GET">
          <doc>This REST API is used to get an authentication by ID from E3 subsystem.</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
        <method name="PUT">
          <doc>This REST API is used to update an authentication.</doc>
          <request>
            <representation mediaType="application/xml"/>
          </request>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
      </resource>
    </resource>
    <resource path="/bulk/policies/quotaRLBuckets">
      <doc>E3 REST API to create or delete a bucket of auths associated to a list of policies</doc>
      <method name="POST">
        <doc>This REST API is used to create a bucket linked to a list of policies.</doc>
        <request>
          <representation mediaType="application/xml"/>
        </request>
        <response>
          <representation mediaType="application/xml"/>
        </response>
      </method>
      <resource path="/{BUCKET_ID}">
        <param name="BUCKET_ID" style="template" type="xs:string"/>
        <method name="PUT">
          <doc>This REST API is used to append auths to a bucket for several policies.</doc>
          <request>
            <representation mediaType="application/xml"/>
          </request>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
      </resource>
      <resource path="/{BUCKET_ID}/delete">
        <param name="BUCKET_ID" style="template" type="xs:string"/>
        <method name="PUT">
          <doc>This REST API is used to remove a bucket from a list of policies.</doc>
          <request>
            <representation mediaType="application/xml"/>
          </request>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
      </resource>
    </resource>
    <resource path="/keys">
      <doc>E3 REST API provision SSLKeys and SSLCerts on E3 subsystem</doc>
      <method name="GET">
        <doc>This REST API is used to get all SSLKeys from E3 subsystem.</doc>
        <response>
          <representation mediaType="application/xml"/>
        </response>
      </method>
      <method name="POST">
        <doc>This REST API is used to create an SSLKey element on E3 subsystem.</doc>
        <request>
          <representation mediaType="application/xml"/>
        </request>
        <response>
          <representation mediaType="application/xml"/>
        </response>
      </method>
      <resource path="/{KEY_ID}">
        <param name="KEY_ID" style="template" type="xs:string"/>
        <method name="DELETE">
          <doc>This REST API is used to delete an SSLKey.</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
        <method name="GET">
          <doc>This REST API is used to get an SSLKey by ID from E3 subsystem.</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
        <method name="PUT">
          <doc>This REST API is used to update an SSLKey.</doc>
          <request>
            <representation mediaType="application/xml"/>
          </request>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
      </resource>
      <resource path="/{KEY_ID}/certs">
        <param name="KEY_ID" style="template" type="xs:string"/>
        <method name="GET">
          <doc>This REST API is used to get all SSLCerts for a key.</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
        <method name="POST">
          <doc>This REST API is used to create an SSLCert element on E3 subsystem.</doc>
          <request>
            <representation mediaType="application/xml"/>
          </request>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
      </resource>
      <resource path="/{KEY_ID}/certs/{CERT_ID}">
        <param name="KEY_ID" style="template" type="xs:string"/>
        <param name="CERT_ID" style="template" type="xs:string"/>
        <method name="DELETE">
          <doc>This REST API is used to delete an SSLCert.</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
        <method name="GET">
          <doc>This REST API is used to get an SSLKey by ID from E3 subsystem.</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
        <method name="PUT">
          <doc>This REST API is used to update an SSLKey.</doc>
          <request>
            <representation mediaType="application/xml"/>
          </request>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
      </resource>
      <resource path="/{KEY_ID}/csr">
        <param name="KEY_ID" style="template" type="xs:string"/>
        <method name="GET">
          <doc>This REST API is used to get a CSR for the given SSLKey ID from E3 subsystem.</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
      </resource>
      <resource path="/{KEY_ID}/selfsign">
        <param name="KEY_ID" style="template" type="xs:string"/>
        <method name="GET">
          <doc>This REST API is used to create a self-signed cert for an existing Key</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
      </resource>
    </resource>
    <resource path="/truststore">
      <doc>E3 REST API to add/update/delete trusted CAs and CRLs</doc>
      <resource path="/certs">
        <method name="GET">
          <doc>This REST API is used to fetch all trusted certificates authorithies.</doc>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
        <method name="POST">
          <doc>This REST API is used to add a trusted Certificate Authority.</doc>
          <request>
            <representation mediaType="application/xml"/>
          </request>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
      </resource>
      <resource path="/certs/{CA_ID}">
        <param name="CA_ID" style="template" type="xs:string"/>
        <method name="DELETE">
          <doc>This REST API is used to remove a trusted Certificate Authority.</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
        <method name="GET">
          <doc>This REST API is used to fetch trusted Certificate Authority.</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
        <method name="PUT">
          <doc>This REST API is used to update a trusted Certificate Authority.</doc>
          <request>
            <representation mediaType="application/xml"/>
          </request>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
      </resource>
      <resource path="/crls">
        <method name="GET">
          <doc>This REST API is used to fetch trusted Certificate Authority.</doc>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
        <method name="POST">
          <doc>This REST API is used to add a Certificate Revocation List for this Certificate Authority.</doc>
          <request>
            <representation mediaType="application/xml"/>
          </request>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
      </resource>
      <resource path="/crls/{CRL_ID}">
        <param name="CRL_ID" style="template" type="xs:string"/>
        <method name="DELETE">
          <doc>This REST API is used to remove a certificate revocation list from a certificate authority.</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
        <method name="GET">
          <doc>This REST API is used to fetch Certificate Revocation List.</doc>
          <request/>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
        <method name="PUT">
          <doc>This REST API is used to update a certificate revocation list.</doc>
          <request>
            <representation mediaType="application/xml"/>
          </request>
          <response>
            <representation mediaType="application/xml"/>
          </response>
        </method>
      </resource>
    </resource>
  </resources>
</application>]]></con:content><con:type>http://wadl.dev.java.net/2009/02</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint></con:endpoints><con:resource name="/apis" path="/apis"><con:settings/><con:parameters/><con:resource name="/{API_ID}" path="/{API_ID}"><con:settings/><con:parameters><con:parameter><con:name>API_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="DELETE" method="DELETE"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="PUT" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="POST" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:resource name="/policies" path="/policies"><con:settings/><con:parameters/><con:resource name="/{POLICY_ID}" path="/{POLICY_ID}"><con:settings/><con:parameters><con:parameter><con:name>POLICY_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="DELETE" method="DELETE"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="PUT" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:resource name="/{POLICY_ID}/quotaRLBuckets" path="/{POLICY_ID}/quotaRLBuckets"><con:settings/><con:parameters><con:parameter><con:name>POLICY_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="POST" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:resource name="/{POLICY_ID}/quotaRLBuckets/{BUCKET_ID}" path="/{POLICY_ID}/quotaRLBuckets/{BUCKET_ID}"><con:settings/><con:parameters><con:parameter><con:name>POLICY_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter><con:parameter><con:name>BUCKET_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="DELETE" method="DELETE"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="PUT" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1" mediaType="application/xml" postQueryString="false"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="/{POLICY_ID}/quotaRLBuckets/{BUCKET_ID}/auths/{AUTH_ID}" path="/{POLICY_ID}/quotaRLBuckets/{BUCKET_ID}/auths/{AUTH_ID}"><con:settings/><con:parameters><con:parameter><con:name>POLICY_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter><con:parameter><con:name>BUCKET_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter><con:parameter><con:name>AUTH_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="DELETE" method="DELETE"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="POST" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:resource name="/auths" path="/auths"><con:settings/><con:parameters/><con:resource name="/{AUTH_ID}" path="/{AUTH_ID}"><con:settings/><con:parameters><con:parameter><con:name>AUTH_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="DELETE" method="DELETE"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="PUT" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="POST" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1" mediaType="application/xml" postQueryString="false"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="/bulk/policies/quotaRLBuckets" path="/bulk/policies/quotaRLBuckets"><con:settings/><con:parameters/><con:resource name="/{BUCKET_ID}" path="/{BUCKET_ID}"><con:settings/><con:parameters><con:parameter><con:name>BUCKET_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="PUT" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:resource name="/{BUCKET_ID}/delete" path="/{BUCKET_ID}/delete"><con:settings/><con:parameters><con:parameter><con:name>BUCKET_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="PUT" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:method name="POST" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:resource name="/keys" path="/keys"><con:settings/><con:parameters/><con:resource name="/{KEY_ID}" path="/{KEY_ID}"><con:settings/><con:parameters><con:parameter><con:name>KEY_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="DELETE" method="DELETE"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="PUT" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:resource name="/{KEY_ID}/certs" path="/{KEY_ID}/certs"><con:settings/><con:parameters><con:parameter><con:name>KEY_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="POST" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:resource name="/{KEY_ID}/certs/{CERT_ID}" path="/{KEY_ID}/certs/{CERT_ID}"><con:settings/><con:parameters><con:parameter><con:name>KEY_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter><con:parameter><con:name>CERT_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="DELETE" method="DELETE"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="PUT" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:resource name="/{KEY_ID}/csr" path="/{KEY_ID}/csr"><con:settings/><con:parameters><con:parameter><con:name>KEY_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:resource name="/{KEY_ID}/selfsign" path="/{KEY_ID}/selfsign"><con:settings/><con:parameters><con:parameter><con:name>KEY_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="POST" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:resource name="/truststore" path="/truststore"><con:settings/><con:parameters/><con:resource name="/certs" path="/certs"><con:settings/><con:parameters/><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="POST" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:resource name="/certs/{CA_ID}" path="/certs/{CA_ID}"><con:settings/><con:parameters><con:parameter><con:name>CA_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="DELETE" method="DELETE"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="PUT" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:resource name="/crls" path="/crls"><con:settings/><con:parameters/><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="POST" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource><con:resource name="/crls/{CRL_ID}" path="/crls/{CRL_ID}"><con:settings/><con:parameters><con:parameter><con:name>CRL_ID</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="DELETE" method="DELETE"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method><con:method name="PUT" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:request></con:method></con:resource></con:resource></con:interface><con:interface xsi:type="con:RestService" wadlVersion="http://wadl.dev.java.net/2009/02" name="targertest" type="rest" basePath="" definitionUrl="D:\Documents and Settings\mtobiasz\Desktop\targertest_1.wadl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="file:/D:/Documents%20and%20Settings/mtobiasz/Desktop/targertest_1.wadl"><con:part><con:url>file:/D:/Documents%20and%20Settings/mtobiasz/Desktop/targertest_1.wadl</con:url><con:content><![CDATA[<application xmlns="http://wadl.dev.java.net/2009/02">
  <doc xml:lang="en" title="targertest"/>
  <resources base="http://${#Project#E3Gateway}/endpoint1?key=e88ba0c1e4c34f25bf95733eebd8574a">
    <resource path="" id="resname">
      <doc xml:lang="en" title="resname"/>
      <method name="GET" id="Method 1">
        <doc xml:lang="en" title="Method 1"/>
        <request/>
        <response status="0">
          <representation mediaType=""/>
        </response>
        <response status="200">
          <representation mediaType="text/html"/>
        </response>
      </method>
      <method name="POST" id="Method 2 (POST)">
        <doc xml:lang="en" title="Method 2 (POST)"/>
        <request>
          <representation mediaType="application/xml"/>
        </request>
        <response status="0">
          <representation mediaType=""/>
        </response>
        <response status="">
          <representation mediaType="application/xml"/>
        </response>
        <response status="403 405 429">
          <representation mediaType="text/plain"/>
        </response>
        <response status="200">
          <representation mediaType="text/xml" element="response"/>
        </response>
      </method>
      <method name="PUT" id="Method 3 (PUT)">
        <doc xml:lang="en" title="Method 3 (PUT)"/>
        <request>
          <representation mediaType="application/xml"/>
        </request>
        <response status="">
          <representation mediaType="application/xml"/>
        </response>
        <response status="405 429">
          <representation mediaType="text/plain"/>
        </response>
        <response status="200">
          <representation mediaType="text/xml" element="response"/>
        </response>
      </method>
      <method name="DELETE" id="Method 4 (DELETE)">
        <doc xml:lang="en" title="Method 4 (DELETE)"/>
        <request/>
        <response status="405 429">
          <representation mediaType="text/plain"/>
        </response>
        <response status="200">
          <representation mediaType="text/xml" element="response"/>
        </response>
      </method>
      <method name="HEAD" id="Method 5 (HEAD)">
        <doc xml:lang="en" title="Method 5 (HEAD)"/>
        <request/>
        <response status="0">
          <representation mediaType=""/>
        </response>
        <response status="405">
          <representation mediaType="text/plain"/>
        </response>
        <response status="200">
          <representation mediaType="text/xml"/>
        </response>
      </method>
    </resource>
  </resources>
</application>]]></con:content><con:type>http://wadl.dev.java.net/2009/02</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-http-method-endpoint1?key=api-http-method-key1</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-http-method-endpoint2?key=api-http-method-key2</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-http-method-endpoint3?key=api-http-method-key3</con:endpoint><con:endpoint>http://${#Project#E3Gateway}/api-http-method-endpoint4?key=api-http-method-key4</con:endpoint></con:endpoints><con:resource name="resname" path=""><con:settings/><con:parameters/><con:method name="Method 1 - Method 1" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType/><con:status>0</con:status><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings/><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="Method 2 (POST) - Method 2 (POST)" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType/><con:status>0</con:status><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:status/><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="FAULT" id=""><con:mediaType>text/plain</con:mediaType><con:status>403 405 429</con:status><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>text/xml</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ns="http://wadl.dev.java.net/2009/02">ns:response</con:element><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:parameters/></con:request></con:method><con:method name="Method 3 (PUT) - Method 3 (PUT)" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:status/><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="FAULT" id=""><con:mediaType>text/plain</con:mediaType><con:status>405 429</con:status><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>text/xml</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ns="http://wadl.dev.java.net/2009/02">ns:response</con:element><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:parameters/></con:request></con:method><con:method name="Method 4 (DELETE) - Method 4 (DELETE)" method="DELETE"><con:settings/><con:parameters/><con:representation type="FAULT" id=""><con:mediaType>text/plain</con:mediaType><con:status>405 429</con:status><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>text/xml</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ns="http://wadl.dev.java.net/2009/02">ns:response</con:element><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:parameters/></con:request></con:method><con:method name="Method 5 (HEAD) - Method 5 (HEAD)" method="HEAD"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType/><con:status>0</con:status><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="FAULT" id=""><con:mediaType>text/plain</con:mediaType><con:status>405</con:status><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>text/xml</con:mediaType><con:status>200</con:status><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://${#Project#E3Gateway}</con:endpoint><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" wadlVersion="http://wadl.dev.java.net/2009/02" name="smoke-system-manager" type="rest" basePath="/cxf/e3" definitionUrl="http://${#Project#E3Manager}:8181/cxf/e3?_wadl&amp;_type=xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://135.248.213.24:8181</con:endpoint></con:endpoints><con:resource name="/system-manager/" path="/system-manager/"><con:settings/><con:parameters/><con:resource name="install/{pathToConfigFilesDirectory}" path="install/{pathToConfigFilesDirectory}"><con:settings/><con:parameters><con:parameter><con:name>pathToConfigFilesDirectory</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/octet-stream</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:parameters/></con:request></con:method></con:resource><con:resource name="version" path="version"><con:settings/><con:parameters/><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/octet-stream</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:parameters/></con:request></con:method></con:resource></con:resource><con:resource name="/system-manager/logging" path="/system-manager/logging"><con:settings/><con:parameters/><con:resource name="/activeLogLines/{numLines}" path="/activeLogLines/{numLines}"><con:settings/><con:parameters><con:parameter><con:name>numLines</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:parameters/></con:request></con:method></con:resource><con:resource name="/collectedLogLines/{numLines}" path="/collectedLogLines/{numLines}"><con:settings/><con:parameters><con:parameter><con:name>numLines</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:parameters/></con:request></con:method></con:resource><con:resource name="/forceLogCollection" path="/forceLogCollection"><con:settings/><con:parameters/><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:parameters/></con:request></con:method></con:resource><con:resource name="/instances/{instanceId}/logLevel" path="/instances/{instanceId}/logLevel"><con:settings/><con:parameters><con:parameter><con:name>instanceId</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://135.248.213.36:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="instanceId" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method><con:method name="PUT" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/octet-stream</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:parameters/></con:request></con:method></con:resource><con:resource name="/instances/{instanceId}/smxlogLevel" path="/instances/{instanceId}/smxlogLevel"><con:settings/><con:parameters><con:parameter><con:name>instanceId</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:parameters/></con:request></con:method><con:method name="PUT" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/octet-stream</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:parameters/></con:request></con:method></con:resource><con:resource name="/instances/{instanceId}/syslogLevel" path="/instances/{instanceId}/syslogLevel"><con:settings/><con:parameters><con:parameter><con:name>instanceId</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:parameters/></con:request></con:method><con:method name="PUT" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/octet-stream</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:parameters/></con:request></con:method></con:resource><con:resource name="/logAllCategories" path="/logAllCategories"><con:settings/><con:parameters/><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/octet-stream</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:parameters/></con:request></con:method></con:resource><con:resource name="/logAllLevels" path="/logAllLevels"><con:settings/><con:parameters/><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/octet-stream</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:parameters/></con:request></con:method></con:resource><con:resource name="/logLevel" path="/logLevel"><con:settings/><con:parameters/><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="PUT" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/octet-stream</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1" mediaType="application/octet-stream" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="/loggingCategories" path="/loggingCategories"><con:settings/><con:parameters/><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:parameters/></con:request></con:method><con:method name="PUT" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:parameters/></con:request></con:method></con:resource><con:resource name="/smxlogLevel" path="/smxlogLevel"><con:settings/><con:parameters/><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:parameters/></con:request></con:method><con:method name="PUT" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/octet-stream</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1"><con:settings/><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:parameters/></con:request></con:method></con:resource><con:resource name="/syslogLevel" path="/syslogLevel"><con:settings/><con:parameters/><con:method name="GET" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="PUT" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/octet-stream</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1" mediaType="application/octet-stream" postQueryString="false"><con:settings/><con:endpoint>http://135.248.213.24:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:resource></con:interface><con:testSuite name="auth-type-auth-key">
		<con:description>TestSuite generated for REST Service
			[functional-test-provision-api]</con:description>
		<con:settings/>
		<con:runType>SEQUENTIAL</con:runType>
		
		
		
		
		
		
		
		
		
		
		<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Add auth type auth key with empty key" searchProperties="true" id="8079010d-1533-40c8-8823-94f402b468e3">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-key-auth1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			<con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-key-api1" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create API AuthKey">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API AuthKey" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-key-api1</id>
   <displayName>test_route_1</displayName>
   <status>active</status>
   <type>PassThrough</type>
   <endpoint>auth-key-endpoint1</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>authKey</type>
      </supportedTypes>
      <authKey>
         <keyName>key</keyName>
      </authKey>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="test" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}:8080/proxySize.php</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>10</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>0.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>10</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>0.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration><codes>200</codes></con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-key-api1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			
			<con:testStep type="restrequest" name="Create Auth AuthKey with empty key"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth AuthKey with empty key" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-key-auth1</id>
   <status>active</status>
   <type>authKey</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <authKeyAuth>
      <keyValue></keyValue>
   </authKeyAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response</path><content><![CDATA[<response>
  <error>
    <errorText>authKey must not be empty for AuthKey authentication type.</errorText>
    <errorCode>400</errorCode>
  </error>
  <status>FAILURE</status>
</response>]]></content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep>
			
			<con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-key-auth1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-key-api1" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Add auth type auth key" searchProperties="true" id="fc07cdab-6ffc-4a5c-8804-1587307fdb89">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-key-p2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-key-auth2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			<con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-key-api2" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create API AuthKey">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API AuthKey" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-key-api2</id>
   <displayName>test_route_1</displayName>
   <status>active</status>
   <type>PassThrough</type>
   <endpoint>auth-key-endpoint2</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>authKey</type>
      </supportedTypes>
      <authKey>
         <keyName>key</keyName>
      </authKey>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-key-context2" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}:8080/proxySize.php</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>10</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>0.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>10</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>0.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration><codes>200</codes></con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-key-api2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			
			<con:testStep type="restrequest" name="Create Auth AuthKey"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth AuthKey" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-key-auth2</id>
   <status>active</status>
   <type>authKey</type>
   <policyContext id="auth-key-policy-context2"/>
   <apiContext id="auth-key-api-context2"/>
   <authKeyAuth>
      <keyValue>auth-key-key2</keyValue>
   </authKeyAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-key-auth2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep>
			
			<con:testStep type="restrequest" name="Create the same Auth AuthKey - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create the same Auth AuthKey - failed" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
   <id>auth-key-auth2</id>
   <status>active</status>
   <type>authKey</type>
   <policyContext id="auth-key-policy-context2"/>
   <apiContext id="auth-key-api-context2"/>
   <authKeyAuth>
      <keyValue>auth-key-key2</keyValue>
   </authKeyAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request>
						
						<con:assertion type="XPath Match" name="Error Code Tag Should be 500">
							<con:configuration><path>/response/error/errorCode</path><content>500</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						
						<con:assertion type="Simple Contains" name="Should contain information that API exists"><con:configuration><token>Provisioning Server Error: java.lang.IllegalArgumentException: Auth already exists with that ID</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="HTTP/1.1 500 Internal Server Error"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 500 Internal Server Error" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 500 Internal Server Error
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Status should be FAILURE"><con:configuration><path>/response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create Policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>auth-key-p2</id>
   <apiIds>
      <apiId>auth-key-api2</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app1">
         <authId>auth-key-auth2</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="auth-key-policy-context2">
         <status>active</status>
         <quotaPerDay>
            <status>active</status>
            <action>reject</action>
            <warning>98</warning>
            <threshold>1000</threshold>
         </quotaPerDay>
      </context>
      <context id="test">
         <status>active</status>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-key-p2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="Delay"><con:settings/><con:config><delay>1000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Success AuthKey">
				<con:settings/>
				<con:config service="EndPoint-test" resourcePath="" methodName="GET With AuthKey" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Success AuthKey" mediaType="application/xml" accept="text/html">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Gateway}/auth-key-endpoint2</con:endpoint>
						<con:request/>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration><codes>200</codes></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="key" value="auth-key-key2" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Success AuthKey in Header"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With Authorization Header" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Success AuthKey in Header" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="X-App-AuthKey" value="auth-key-key2"/>
  &lt;con:entry key="SIZE" value="10"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-key-endpoint2</con:endpoint><con:request/><con:assertion type="Simple Contains" name="Response should contains:  &quot;Issue: Authorization required&quot;"><con:configuration><token>9876543210</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Invalid AuthKey"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With AuthKey" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Invalid AuthKey" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-key-endpoint2</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Policy - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-key-p2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-key-auth2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-key-api2" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Modify auth key" searchProperties="true" id="a5f9c6d1-5e2b-4d73-a716-48852035813d">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			
			
			
			
			
			
			
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-key-p3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-key-auth3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-key-api3" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create API AuthKey">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API AuthKey" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-key-api3</id>
   <displayName>test_route_1</displayName>
   <status>active</status>
   <type>PassThrough</type>
   <endpoint>auth-key-endpoint3</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>authKey</type>
      </supportedTypes>
      <authKey>
         <keyName>key</keyName>
      </authKey>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-key-api-context3" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}:8080/proxySize.php</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>10</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>0.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>10</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>0.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration><codes>200</codes></con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-key-api3</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create Auth AuthKey"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth AuthKey" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-key-auth3</id>
   <status>active</status>
   <type>authKey</type>
   <policyContext id="auth-key-policy-context3"/>
   <apiContext id="auth-key-api-context3"/>
   <authKeyAuth>
      <keyValue>auth-key-key3</keyValue>
   </authKeyAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-key-auth3</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create Policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>auth-key-p3</id>
   <apiIds>
      <apiId>auth-key-api3</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app1">
         <authId>auth-key-auth3</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="auth-key-policy-context3">
         <status>active</status>
         <quotaPerDay>
            <status>active</status>
            <action>reject</action>
            <warning>98</warning>
            <threshold>1000</threshold>
         </quotaPerDay>
      </context>
      <context id="test">
         <status>active</status>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-key-p3</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Modify key value in AuthKey Policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Modify key value in AuthKey Policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-key-auth3</id>
   <status>active</status>
   <type>authKey</type>
   <policyContext id="auth-key-policy-context3"/>
   <apiContext id="auth-key-api-context3"/>
   <authKeyAuth>
      <keyValue>auth-key-key3_new</keyValue>
   </authKeyAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 200 OK &quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 200 OK" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 200 OK
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should has correct id and status SUCCESS"><con:configuration><path>//response</path><content><![CDATA[<response>
  <id>auth-key-auth3</id>
  <status>SUCCESS</status>
</response>]]></content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-key-auth3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Send request with different key value - failed">
				<con:settings/>
				<con:config service="EndPoint-test" resourcePath="" methodName="GET With AuthKey" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Send request with different key value - failed" mediaType="application/xml" accept="text/html">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Gateway}/auth-key-endpoint3</con:endpoint>
						<con:request/>
						
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 401 Unauthorized &quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 401 Unauthorized" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 401 Unauthorized
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Response should contains:  &quot;Issue: Not Authorized&quot;"><con:configuration><token>Issue: Not Authorized</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="key" value="e88ba0c1e4c34f25bf95733eebd8574f" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Send request using changed AuthKey - success">
				<con:settings/>
				<con:config service="EndPoint-test" resourcePath="" methodName="GET With AuthKey" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Send request using changed AuthKey - success" mediaType="application/xml" accept="text/html">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="SIZE" value="10" xmlns="http://eviware.com/soapui/config"/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Gateway}/auth-key-endpoint3</con:endpoint>
						<con:request/>
						
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 200 OK &quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 200 OK" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 200 OK
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Response should contain correct Auth Key value "><con:configuration><token>9876543210</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="key" value="auth-key-key3_new" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Delete Policy - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-key-p3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-key-auth3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-key-api3" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Change status of auth" searchProperties="true" id="9ff3ce0f-deff-46b8-9a50-45628e9e2b9b">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			
			
			
			
			
			
			
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-key-p4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-key-auth4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-key-api4" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create API AuthKey">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API AuthKey" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-key-api4</id>
   <displayName>test_route_1</displayName>
   <status>active</status>
   <type>PassThrough</type>
   <endpoint>auth-key-endpoint4</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>authKey</type>
      </supportedTypes>
      <authKey>
         <keyName>key</keyName>
      </authKey>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-key-api-context4" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}/proxySize.php</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>10</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>0.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>10</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>0.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration><codes>200</codes></con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-key-api4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create Auth AuthKey"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth AuthKey" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-key-auth4</id>
   <status>active</status>
   <type>authKey</type>
   <policyContext id="auth-key-policy-context4"/>
   <apiContext id="auth-key-api-context4"/>
   <authKeyAuth>
      <keyValue>auth-key-key4</keyValue>
   </authKeyAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-key-auth4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create Policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>auth-key-p4</id>
   <apiIds>
      <apiId>auth-key-api4</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app1">
         <authId>auth-key-auth4</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="auth-key-policy-context4">
         <status>active</status>
         <quotaPerDay>
            <status>active</status>
            <action>reject</action>
            <warning>98</warning>
            <threshold>1000</threshold>
         </quotaPerDay>
      </context>
      <context id="test">
         <status>active</status>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-key-p4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Set status for Auth to inactive"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Set status for Auth to inactive" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-key-auth4</id>
   <status>inactive</status>
   <type>authKey</type>
   <policyContext id="auth-key-policy-context4"/>
   <apiContext id="auth-key-api-context4"/>
   <authKeyAuth>
      <keyValue>auth-key-key4</keyValue>
   </authKeyAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 200 OK &quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 200 OK" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 200 OK
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should has correct id and status SUCCESS"><con:configuration><path>//response</path><content><![CDATA[<response>
  <id>auth-key-auth4</id>
  <status>SUCCESS</status>
</response>]]></content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-key-auth4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Send request using key form inactive Auth - failed">
				<con:settings/>
				<con:config service="EndPoint-test" resourcePath="" methodName="GET With AuthKey" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Send request using key form inactive Auth - failed" mediaType="application/xml" accept="text/html">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Gateway}/auth-key-endpoint4</con:endpoint>
						<con:request/>
						
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 401 Unauthorized &quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 401 Unauthorized" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 401 Unauthorized
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Response should contains:  &quot;Issue: Not Authorized&quot;"><con:configuration><token>Issue: Not Authorized</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="key" value="auth-key-key4" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Delete Policy - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-key-p4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-key-auth4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-key-api4" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Delete auth type auth key" searchProperties="true" id="3968b4aa-b768-48bc-b874-047429c5095f">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			
			
			
			
			
			
			
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-key-p5" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-key-auth5" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-key-api5" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create API AuthKey">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API AuthKey" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-key-api5</id>
   <displayName>test_route_1</displayName>
   <status>active</status>
   <type>PassThrough</type>
   <endpoint>auth-key-endpoint5</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>authKey</type>
      </supportedTypes>
      <authKey>
         <keyName>key</keyName>
      </authKey>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-key-api-context5" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}:8080/proxySize.php</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>10</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>0.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>10</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>0.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration><codes>200</codes></con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-key-api5</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create Auth AuthKey"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth AuthKey" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-key-auth5</id>
   <status>active</status>
   <type>authKey</type>
   <policyContext id="auth-key-policy-context5"/>
   <apiContext id="auth-key-api-context5"/>
   <authKeyAuth>
      <keyValue>auth-key-key5</keyValue>
   </authKeyAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-key-auth5</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create Policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>auth-key-p5</id>
   <apiIds>
      <apiId>auth-key-api5</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app1">
         <authId>auth-key-auth5</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="auth-key-policy-context5">
         <status>active</status>
         <quotaPerDay>
            <status>active</status>
            <action>reject</action>
            <warning>98</warning>
            <threshold>1000</threshold>
         </quotaPerDay>
      </context>
      <context id="test">
         <status>active</status>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-key-p5</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-key-p5" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-key-auth5" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Send request with key to API with deleted Auth">
				<con:settings/>
				<con:config service="EndPoint-test" resourcePath="" methodName="GET With AuthKey" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Send request with key to API with deleted Auth" mediaType="application/xml" accept="text/html">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Gateway}/auth-key-endpoint5</con:endpoint>
						<con:request/>
						
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 401 Unauthorized&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 401 Unauthorized" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 401 Unauthorized
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Response should contains:  &quot;Issue: Not Authorized&quot;"><con:configuration><token>Issue: Not Authorized</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="key" value="auth-key-key5" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Delete API">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration><codes>200</codes></con:configuration>
						</con:assertion>
						
						<con:assertion type="XPath Match" name="XPath Match - status">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-key-api5" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Add auth type auth key with invalid  apiContext - disabled due to OAPEEE-112" searchProperties="true" disabled="true" id="fcb7aa93-556d-482a-a6bd-4186d26d436a">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-key-p6" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-key-auth6" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			<con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-key-api6" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create API AuthKey">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API AuthKey" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-key-api6</id>
   <displayName>test_route_1</displayName>
   <status>active</status>
   <type>PassThrough</type>
   <endpoint>auth-key-endpoint6</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>authKey</type>
      </supportedTypes>
      <authKey>
         <keyName>key</keyName>
      </authKey>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-key-api-context6" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}:8080/proxySize.php</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>10</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>0.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>10</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>0.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration><codes>200</codes></con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-key-api6</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			
			<con:testStep type="restrequest" name="Create Auth AuthKey with incorrect apiContext"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth AuthKey with incorrect apiContext" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-key-auth6</id>
   <status>active</status>
   <type>authKey</type>
   <policyContext id="auth-key-policy-context6"/>
   <apiContext id="auth-key-api-context6_incorrect"/>
   <authKeyAuth>
      <keyValue>auth-key-key6</keyValue>
   </authKeyAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-key-auth6</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep>
			
			<con:testStep type="restrequest" name="Create Policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>auth-key-p6</id>
   <apiIds>
      <apiId>auth-key-api6</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app1">
         <authId>auth-key-auth6</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="production">
         <status>active</status>
         <quotaPerDay>
            <status>active</status>
            <action>reject</action>
            <warning>98</warning>
            <threshold>1000</threshold>
         </quotaPerDay>
      </context>
      <context id="test">
         <status>active</status>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-key-p6</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="Delay"><con:settings/><con:config><delay>1000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Send request - should end with correct error message">
				<con:settings/>
				<con:config service="EndPoint-test" resourcePath="" methodName="GET With AuthKey" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Send request - should end with correct error message" mediaType="application/xml" accept="text/html">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Gateway}/auth-key-endpoint6</con:endpoint>
						<con:request/>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes 4xx">
							<con:configuration><codes>4xx</codes></con:configuration>
						</con:assertion>
						<con:assertion type="Simple Contains" name="Should contain valid error message"><con:configuration><token>Valid message</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="key" value="auth-key-key6" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Delete Policy - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-key-p6" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-key-auth6" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-key-api6" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Add auth type auth key with invalid policyContext - disabled due to OAPEEE-112" searchProperties="true" disabled="true" id="99bf2794-b482-4d01-9e2c-2b05d41400fa">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-key-p7" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-key-auth7" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			<con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-key-api7" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create API AuthKey">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API AuthKey" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-key-api7</id>
   <displayName>test_route_1</displayName>
   <status>active</status>
   <type>PassThrough</type>
   <endpoint>auth-key-endpoint7</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>authKey</type>
      </supportedTypes>
      <authKey>
         <keyName>key</keyName>
      </authKey>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-key-api-context7" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}:8080/proxySize.php</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>10</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>0.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>10</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>0.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration><codes>200</codes></con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-key-api7</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			
			<con:testStep type="restrequest" name="Create Auth AuthKey with incorrect policyContext"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth AuthKey with incorrect policyContext" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-key-auth7</id>
   <status>active</status>
   <type>authKey</type>
   <policyContext id="auth-key-policy-context7_incorrect"/>
   <apiContext id="auth-key-api-context7"/>
   <authKeyAuth>
      <keyValue>auth-key-key7</keyValue>
   </authKeyAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-key-auth7</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep>
			
			<con:testStep type="restrequest" name="Create Policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>auth-key-p7</id>
   <apiIds>
      <apiId>auth-key-api7</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app1">
         <authId>auth-key-auth7</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="auth-key-policy-context7">
         <status>active</status>
         <quotaPerDay>
            <status>active</status>
            <action>reject</action>
            <warning>98</warning>
            <threshold>1000</threshold>
         </quotaPerDay>
      </context>
      <context id="test">
         <status>active</status>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-key-p7</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="Delay"><con:settings/><con:config><delay>1000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Send request - should end with correct error message">
				<con:settings/>
				<con:config service="EndPoint-test" resourcePath="" methodName="GET With AuthKey" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Send request - should end with correct error message" mediaType="application/xml" accept="text/html">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Gateway}/auth-key-endpoint7</con:endpoint>
						<con:request/>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes 4xx">
							<con:configuration><codes>4xx</codes></con:configuration>
						</con:assertion>
						<con:assertion type="Simple Contains" name="Should contain valid error message"><con:configuration><token>Valid message</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="key" value="auth-key-key7" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Delete Policy - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-key-p7" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-key-auth7" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-key-api7" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:properties/>
	</con:testSuite><con:testSuite name="auth-type-basic">
		<con:description>TestSuite generated for REST Service
			[functional-test-provision-api]</con:description>
		<con:settings/>
		<con:runType>SEQUENTIAL</con:runType>
		
		
		
		
		
		
		
		
		
		
		<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Add auth type auth Basic with empty credentials" searchProperties="true" id="28e572aa-f7b5-4ef7-8e43-d7c029c8f7b3">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			
			
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-basic-p1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			
			
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-basic-auth1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-basic-api1" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			<con:testStep type="restrequest" name="Create API Basic">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API Basic" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-basic-api1</id>
   <displayName>test_route_1</displayName>
   <type>PassThrough</type>
   <status>active</status>
   <endpoint>auth-basic-endpoint1</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>basic</type>
      </supportedTypes>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="test" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}/proxySize</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>100</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>50.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>100</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>50.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration>
								<codes>200</codes>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-basic-api1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create Auth Basic without username - failed"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth Basic without username - failed" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-basic-auth1</id>
   <status>active</status>
   <type>basic</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <basicAuth>
      <username></username>
      <password>dGVzdGVycGFzc3dvcmQy</password>
<!--testerpassword2-->
   </basicAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" disabled="true"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" disabled="true"><con:configuration><path>/response/id</path><content>auth0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1" disabled="true"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create Auth Basic without user and password - failed"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth Basic without user and password - failed" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-basic-auth1</id>
   <status>active</status>
   <type>basic</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <basicAuth>
      <username></username>
      <password></password>
<!--testerpassword2-->
   </basicAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" disabled="true"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" disabled="true"><con:configuration><path>/response/id</path><content>auth0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1" disabled="true"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create Auth Basic without password - failed"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth Basic without password - failed" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-basic-auth1</id>
   <status>active</status>
   <type>basic</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <basicAuth>
      <username>tester</username>
      <password></password>
<!--testerpassword2-->
   </basicAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" disabled="true"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" disabled="true"><con:configuration><path>/response/id</path><content>auth0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1" disabled="true"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Policy - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-basic-p1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-basic-auth1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-basic-api1" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Add auth type auth Basic - OAPEEE-105" searchProperties="true" disabled="true" id="36e225b7-9462-4ee6-b333-6d4895af46cb">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-basic-p2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-basic-auth2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			<con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-basic-api2" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create API Basic">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API Basic" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-basic-api2</id>
   <displayName>test_route_1</displayName>
   <type>PassThrough</type>
   <status>active</status>
   <endpoint>auth-basic-endpoint2</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>basic</type>
      </supportedTypes>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="test" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}:8080/proxySize</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>100</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>50.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>100</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>50.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration>
								<codes>200</codes>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-basic-api2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			
			<con:testStep type="restrequest" name="Create Auth Basic"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth Basic" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-basic-auth2</id>
   <status>active</status>
   <type>basic</type>
   <policyContext id="auth-basic-policy-context2"/>
   <apiContext id="auth-basic-api-context2"/>
   <basicAuth>
      <username>auth-basic-username2</username>
      <password>YXV0aC1iYXNpYy1wYXNzd29yZDI=</password>
<!-- auth-basic-password2 -->
   </basicAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-basic-auth2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create the same Auth Basic - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create the same Auth Basic - failed" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
   <id>auth-basic-auth2</id>
   <status>active</status>
   <type>basic</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <basicAuth>
      <username>auth-basic-username2</username>
      <password>YXV0aC1iYXNpYy1wYXNzd29yZDI=</password>
<!-- auth-basic-password2 -->
   </basicAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request>
						
						<con:assertion type="XPath Match" name="Error Code Tag Should be 500">
							<con:configuration><path>/response/error/errorCode</path><content>500</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						
						<con:assertion type="Simple Contains" name="Should contain information that API exists"><con:configuration><token>Provisioning Server Error: java.lang.IllegalArgumentException: Auth already exists with that ID</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="HTTP/1.1 500 Internal Server Error"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 500 Internal Server Error" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 500 Internal Server Error
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Status should be FAILURE"><con:configuration><path>/response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>auth-basic-p2</id>
   <apiIds>
      <apiId>auth-basic-api2</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app1">
         <authId>auth-basic-auth2</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="auth-basic-policy-context2">
         <status>active</status>
         <quotaPerDay>
            <status>active</status>
            <action>reject</action>
            <warning>3</warning>
            <threshold>3</threshold>
         </quotaPerDay>
      </context>
      <context id="test">
         <status>active</status>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-basic-p2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="Delay"><con:settings/><con:config><delay>1000</delay></con:config></con:testStep>
			
			<con:testStep type="restrequest" name="Invalid Basic"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With Authorization Header" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Invalid Basic" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic invalidbasic" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-basic-endpoint2</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration/></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Success Basic 1"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With Authorization Header" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Success Basic 1" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic YXV0aC1iYXNpYy11c2VybmFtZTI6YXV0aC1iYXNpYy1wYXNzd29yZDI=" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-basic-endpoint2</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Success Basic 2"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With Authorization Header" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Success Basic 2" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic YXV0aC1iYXNpYy11c2VybmFtZTI6YXV0aC1iYXNpYy1wYXNzd29yZDI=" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-basic-endpoint2</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Success Basic 3"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With Authorization Header" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Success Basic 3" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic YXV0aC1iYXNpYy11c2VybmFtZTI6YXV0aC1iYXNpYy1wYXNzd29yZDI=" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-basic-endpoint2</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Success Basic 4 (must fail)"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With Authorization Header" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Success Basic 4 (must fail)" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic YXV0aC1iYXNpYy11c2VybmFtZTI6YXV0aC1iYXNpYy1wYXNzd29yZDI=" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-basic-endpoint2</con:endpoint><con:request/><con:assertion type="GroovyScriptAssertion" name="Response code status should be HTTP/1.1 429"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 429" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 429
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Policy - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-basic-p2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-basic-auth2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-basic-api2" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Modify auth Basic user and password" searchProperties="true" id="aa0e83b4-948b-4198-9f95-fceff27eafaf">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-basic-p3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-basic-auth3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			<con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-basic-api3" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create API Basic">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API Basic" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-basic-api3</id>
   <displayName>test_route_1</displayName>
   <type>PassThrough</type>
   <status>active</status>
   <endpoint>auth-basic-endpoint3</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>basic</type>
      </supportedTypes>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-basic-api-context3" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}:8080/proxySize</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>10</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>50.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>10</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>50.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration><codes>200</codes></con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			
			<con:testStep type="restrequest" name="Create Auth Basic"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth Basic" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-basic-auth3</id>
   <status>active</status>
   <type>basic</type>
   <policyContext id="auth-basic-policy-context3"/>
   <apiContext id="auth-basic-api-context3"/>
   <basicAuth>
      <username>auth-basic-username3</username>
      <password>YXV0aC1iYXNpYy1wYXNzd29yZDM=</password>
<!-- auth-basic-password3 -->
   </basicAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-basic-auth3</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>auth-basic-p3</id>
   <apiIds>
      <apiId>auth-basic-api3</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app1">
         <authId>auth-basic-auth3</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="production">
         <status>active</status>
         <quotaPerDay>
            <status>active</status>
            <action>reject</action>
            <warning>98</warning>
            <threshold>1000</threshold>
         </quotaPerDay>
      </context>
      <context id="auth-basic-policy-context3">
         <status>active</status>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-basic-p3</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep>
			
			<con:testStep type="restrequest" name="Change user name in Auth Basic"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Change user name in Auth Basic" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-basic-auth3</id>
   <status>active</status>
   <type>basic</type>
   <policyContext id="auth-basic-policy-context3"/>
   <apiContext id="auth-basic-api-context3"/>
   <basicAuth>
      <username>auth-basic-username3_new</username>
      <password>YXV0aC1iYXNpYy1wYXNzd29yZDM=</password>
<!-- auth-basic-password3 -->
   </basicAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="XPath Match" name="Response should have correct id"><con:configuration><path>//response/id</path><content>auth-basic-auth3</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should have correct status"><con:configuration><path>//response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Code 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-basic-auth3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Send request with old username - failed"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With Authorization Header" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request with old username - failed" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic dGVzdGVyOnRlc3RlcnBhc3N3b3JkMg==" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-basic-endpoint3</con:endpoint><con:request/><con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 401 Unauthorized &quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 401 Unauthorized" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 401 Unauthorized
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Response should contains:  &quot;Issue: Authorization required&quot;"><con:configuration><token>Issue: Authorization required</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Send request with new username - success"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With Authorization Header" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request with new username - success" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="basic YXV0aC1iYXNpYy11c2VybmFtZTNfbmV3OmF1dGgtYmFzaWMtcGFzc3dvcmQz"/>
  &lt;con:entry key="SIZE" value="10"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-basic-endpoint3</con:endpoint><con:request/><con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 200 OK&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 200 OK" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 200 OK
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Response should contains valid authorization"><con:configuration><token>9876543210</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Change password in Auth Basic"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Change password in Auth Basic" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-basic-auth3</id>
   <status>active</status>
   <type>basic</type>
   <policyContext id="auth-basic-policy-context3"/>
   <apiContext id="auth-basic-api-context3"/>
   <basicAuth>
      <username>auth-basic-username3_new</username>
      <password>YXV0aC1iYXNpYy1wYXNzd29yZDNfbmV3</password>
<!-- auth-basic-password3_new -->
   </basicAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="XPath Match" name="Response should have correct id"><con:configuration><path>//response/id</path><content>auth-basic-auth3</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should have correct status"><con:configuration><path>//response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Code 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-basic-auth3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Send request with correct username and incorrect password - failed"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With Authorization Header" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request with correct username and incorrect password - failed" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic bmV3dGVzdGVyOnRlc3RlcnBhc3N3b3JkMg==" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-basic-endpoint3</con:endpoint><con:request/><con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 401 Unauthorized &quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 401 Unauthorized" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 401 Unauthorized
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Response should contains:  &quot;Issue: Authorization required&quot;"><con:configuration><token>Issue: Authorization required</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Send request with correct username and correct password - success"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With Authorization Header" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request with correct username and correct password - success" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Basic YXV0aC1iYXNpYy11c2VybmFtZTNfbmV3OmF1dGgtYmFzaWMtcGFzc3dvcmQzX25ldw=="/>
  &lt;con:entry key="SIZE" value="10"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-basic-endpoint3</con:endpoint><con:request/><con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 200 OK&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 200 OK" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 200 OK
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Response should contains valid authorization"><con:configuration><token>9876543210</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Policy - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-basic-p3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-basic-auth3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-basic-api3" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Change status of auth Basic" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" id="bd7efaea-67f4-4710-8ca8-993d1c7864ec">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-basic-p4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-basic-auth4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			<con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-basic-api4" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create API Basic">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API Basic" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-basic-api4</id>
   <displayName>test_route_1</displayName>
   <type>PassThrough</type>
   <status>active</status>
   <endpoint>auth-basic-endpoint4</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>basic</type>
      </supportedTypes>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-basic-api-context4" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}:8080/proxySize</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>100</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>50.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>100</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>50.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration>
								<codes>200</codes>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-basic-api4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			
			<con:testStep type="restrequest" name="Create Auth Basic"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth Basic" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-basic-auth4</id>
   <status>active</status>
   <type>basic</type>
   <policyContext id="auth-basic-policy-context4"/>
   <apiContext id="auth-basic-api-context4"/>
   <basicAuth>
      <username>auth-basic-username4</username>
      <password>YXV0aC1iYXNpYy1wYXNzd29yZDQ=</password>
<!--auth-basic-password4-->
   </basicAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-basic-auth4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>auth-basic-p4</id>
   <apiIds>
      <apiId>auth-basic-api4</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app1">
         <authId>auth-basic-auth4</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="auth-basic-policy-context4">
         <status>active</status>
         <quotaPerDay>
            <status>active</status>
            <action>reject</action>
            <warning>98</warning>
            <threshold>1000</threshold>
         </quotaPerDay>
      </context>
      <context id="test">
         <status>active</status>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-basic-p4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep>
			
			<con:testStep type="restrequest" name="Set Auth Basic to inactive"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Set Auth Basic to inactive" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-basic-auth4</id>
   <status>inactive</status>
   <type>basic</type>
   <policyContext id="auth-basic-policy-context4"/>
   <apiContext id="auth-basic-api-context4"/>
   <basicAuth>
      <username>auth-basic-username4</username>
      <password>YXV0aC1iYXNpYy1wYXNzd29yZDQ=</password>
<!--auth-basic-password4-->
   </basicAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="XPath Match" name="Response should have correct id"><con:configuration><path>//response/id</path><content>auth-basic-auth4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should have correct status"><con:configuration><path>//response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Script Assertion"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 200 OK" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 200 OK
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-basic-auth4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Correct Basic - auth inactive - failed"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With Authorization Header" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Correct Basic - auth inactive - failed" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic YXV0aC1iYXNpYy11c2VybmFtZTQ6YXV0aC1iYXNpYy1wYXNzd29yZDQ=" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-basic-endpoint4</con:endpoint><con:request/><con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 401 Unauthorized &quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 401 Unauthorized" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 401 Unauthorized
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Response should contains:  &quot;Issue: Authorization required&quot;"><con:configuration><token>Issue: Authorization required</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Incorrect Basic - auth inactive - failed"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With Authorization Header" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Incorrect Basic - auth inactive - failed" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic invalidbasic" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-basic-endpoint4</con:endpoint><con:request/><con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 401 Unauthorized&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 401 Unauthorized" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 401 Unauthorized
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Response should contains:  &quot;Issue: Authorization required&quot;"><con:configuration><token>Issue: Not Authorized</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Set Auth Basic to active"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Set Auth Basic to active" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-basic-auth4</id>
   <status>active</status>
   <type>basic</type>
   <policyContext id="auth-basic-policy-context4"/>
   <apiContext id="auth-basic-api-context4"/>
   <basicAuth>
      <username>auth-basic-username4</username>
      <password>YXV0aC1iYXNpYy1wYXNzd29yZDQ=</password>
<!--auth-basic-password4-->
   </basicAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="XPath Match" name="Response should have correct id"><con:configuration><path>//response/id</path><content>auth-basic-auth4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should have correct status"><con:configuration><path>//response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Script Assertion"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 200 OK" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 200 OK
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-basic-auth4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Correct Basic - auth active - success"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With Authorization Header" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Correct Basic - auth active - success" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic YXV0aC1iYXNpYy11c2VybmFtZTQ6YXV0aC1iYXNpYy1wYXNzd29yZDQ=" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-basic-endpoint4</con:endpoint><con:request/><con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 200 OK&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 200 OK" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 200 OK
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Incorrect Basic - auth active - failed"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With Authorization Header" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Incorrect Basic - auth active - failed" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic invalidbasic" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-basic-endpoint4</con:endpoint><con:request/><con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 401 Unauthorized &quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 401 Unauthorized" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 401 Unauthorized
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Response should contains:  &quot;Issue: Authorization required&quot;"><con:configuration><token>Issue: Not Authorized</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Policy - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-basic-p4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-basic-auth4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-basic-api4" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Delete auth Basic" searchProperties="true" id="5689bd1d-6dd2-4b15-8bdf-e9ddc25fceee">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			
			
			
			
			
			
			
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-basic-p5" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-basic-auth5" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-basic-api5" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create API Basic">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API Basic" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-basic-api5</id>
   <displayName>test_route_1</displayName>
   <type>PassThrough</type>
   <status>active</status>
   <endpoint>auth-basic-endpoint5</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>basic</type>
      </supportedTypes>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-basic-api-context5" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}:8080/proxySize</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>100</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>50.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>100</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>50.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration>
								<codes>200</codes>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-basic-api5</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create Auth Basic"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth Basic" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-basic-auth5</id>
   <status>active</status>
   <type>basic</type>
   <policyContext id="auth-basic-policy-context5"/>
   <apiContext id="auth-basic-api-context5"/>
   <basicAuth>
      <username>auth-basic-username5</username>
      <password>YXV0aC1iYXNpYy1wYXNzd29yZDU=</password>
<!-- auth-basic-password5 -->
   </basicAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-basic-auth5</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>auth-basic-p5</id>
   <apiIds>
      <apiId>auth-basic-api5</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app1">
         <authId>auth-basic-auth5</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="auth-basic-policy-context5">
         <status>active</status>
         <quotaPerDay>
            <status>active</status>
            <action>reject</action>
            <warning>98</warning>
            <threshold>1000</threshold>
         </quotaPerDay>
      </context>
      <context id="test">
         <status>active</status>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-basic-p5</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-basic-p5" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-basic-auth5" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Send request with correct Basic - failed"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With Authorization Header" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request with correct Basic - failed" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic YXV0aC1iYXNpYy11c2VybmFtZTU6YXV0aC1iYXNpYy1wYXNzd29yZDU=" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-basic-endpoint5</con:endpoint><con:request/><con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 401 Unauthorized&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 401 Unauthorized" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 401 Unauthorized
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Response should contains:  &quot;Issue: Authorization required&quot;"><con:configuration><token>Issue: Authorization required</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration><codes>200</codes></con:configuration>
						</con:assertion>
						
						<con:assertion type="XPath Match" name="XPath Match - status">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-basic-api5" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Create Auth minimal" searchProperties="true" id="8d2fbee7-45f0-400a-96be-3241b2d1f1ab">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			
			
			
			
			
			
			
			<con:testStep type="restrequest" name="Request - Create Auth minimal"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request - Create Auth minimal" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
    <id>auth-basic-auth6</id>
    <status>active</status>
    <type>authKey</type>
    <policyContext id="test"/>
    <apiContext id="test"/>
    <authKeyAuth>
        <keyValue>keyValue1</keyValue>
    </authKeyAuth>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Request - Delete Auth Minimal(if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request - Delete Auth Minimal(if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>//response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-basic-auth6" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/>
		</con:testCase><con:properties/>
	</con:testSuite><con:testSuite name="auth-all-types">
		<con:description>TestSuite generated for REST Service
			[functional-test-provision-auth]</con:description>
		<con:settings/>
		<con:runType>SEQUENTIAL</con:runType>
		<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Add auth with more than one type" searchProperties="true" id="6c965a8e-679c-4f71-81c2-cdadc02795ff">
			<con:settings/>
			<con:testStep type="restrequest" name="Create auth with all types - type basic - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth with all types - type basic - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth0</id>
	<status>active</status>
	<type>basic</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
	<authKeyAuth>
		<keyValue>keyvaluesgfhjzghjzeg</keyValue>
	</authKeyAuth>

        <basicAuth>
		<username>username0</username>
		<password>cGFzc3dvcmQw</password>
	</basicAuth>

	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>
</auth>]]></con:request>
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 500 Internal Server Error&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 500 Internal Server Error" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 500 Internal Server Error
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Status should be FAILURE"><con:configuration><path>//response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorText should be valid"><con:configuration><path>//response/error/errorText</path><content>XML Validation Error: cvc-complex-type.2.4.a: Invalid content was found starting with element 'basicAuth'. One of '{tdr, properties, headerTransformations}' is expected.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode should be valid"><con:configuration><path>//response/error/errorCode</path><content>102</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			
			
			
			<con:testStep type="restrequest" name="Create auth with all types - type authKey - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth with all types - type authKey - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth0</id>
	<status>active</status>
	<type>authKey</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
	<authKeyAuth>
		<keyValue>keyvaluesgfhjzghjzeg</keyValue>
	</authKeyAuth>

        <basicAuth>
		<username>username0</username>
		<password>cGFzc3dvcmQw</password>
	</basicAuth>

	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>
</auth>]]></con:request>
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 500 Internal Server Error&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 500 Internal Server Error" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 500 Internal Server Error
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Status should be FAILURE"><con:configuration><path>//response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorText should be valid"><con:configuration><path>//response/error/errorText</path><content>XML Validation Error: cvc-complex-type.2.4.a: Invalid content was found starting with element 'basicAuth'. One of '{tdr, properties, headerTransformations}' is expected.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode should be valid"><con:configuration><path>//response/error/errorCode</path><content>102</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create auth with all types - type ipWhiteList - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth with all types - type ipWhiteList - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth0</id>
	<status>active</status>
	<type>ipWhiteList</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
	<authKeyAuth>
		<keyValue>keyvaluesgfhjzghjzeg</keyValue>
	</authKeyAuth>

        <basicAuth>
		<username>username0</username>
		<password>cGFzc3dvcmQw</password>
	</basicAuth>

	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>
</auth>]]></con:request>
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 500 Internal Server Error&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 500 Internal Server Error" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 500 Internal Server Error
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Status should be FAILURE"><con:configuration><path>//response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorText should be valid"><con:configuration><path>//response/error/errorText</path><content>XML Validation Error: cvc-complex-type.2.4.a: Invalid content was found starting with element 'basicAuth'. One of '{tdr, properties, headerTransformations}' is expected.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode should be valid"><con:configuration><path>//response/error/errorCode</path><content>102</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create auth with 2 types authKey and basicAuth - type basic - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth with 2 types authKey and basicAuth - type basic - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth0</id>
	<status>active</status>
	<type>basic</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
	<authKeyAuth>
		<keyValue>keyvaluesgfhjzghjzeg</keyValue>
	</authKeyAuth>
        <basicAuth>
		<username>username0</username>
		<password>cGFzc3dvcmQw</password>
	</basicAuth>

	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>
</auth>]]></con:request>
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 500 Internal Server Error&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 500 Internal Server Error" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 500 Internal Server Error
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Status should be FAILURE"><con:configuration><path>//response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorText should be valid"><con:configuration><path>//response/error/errorText</path><content>XML Validation Error: cvc-complex-type.2.4.a: Invalid content was found starting with element 'basicAuth'. One of '{tdr, properties, headerTransformations}' is expected.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode should be valid"><con:configuration><path>//response/error/errorCode</path><content>102</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create auth with 2 types  basicAuth and whiteList - type basic - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth with 2 types  basicAuth and whiteList - type basic - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth0</id>
	<status>active</status>
	<type>basic</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
        <basicAuth>
		<username>username0</username>
		<password>cGFzc3dvcmQw</password>
	</basicAuth>
	<ipWhiteListAuth>
		<ip>192.168.84.67</ip>
		<ip>192.168.84.68</ip>
	</ipWhiteListAuth>
	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>	
</auth>]]></con:request>
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 500 Internal Server Error&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 500 Internal Server Error" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 500 Internal Server Error
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Status should be FAILURE"><con:configuration><path>//response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorText should be valid"><con:configuration><path>//response/error/errorText</path><content>XML Validation Error: cvc-complex-type.2.4.a: Invalid content was found starting with element 'ipWhiteListAuth'. One of '{tdr, properties, headerTransformations}' is expected.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode should be valid"><con:configuration><path>//response/error/errorCode</path><content>102</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create auth with 2 types  authKey and whiteList - type basic - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth with 2 types  authKey and whiteList - type basic - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth0</id>
	<status>active</status>
	<type>basic</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
        <authKeyAuth>
		<keyValue>keyvaluesgfhjzghjzeg</keyValue>
	</authKeyAuth>

	<ipWhiteListAuth>
		<ip>192.168.84.67</ip>
		<ip>192.168.84.68</ip>
	</ipWhiteListAuth>
	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>	
</auth>]]></con:request>
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 500 Internal Server Error&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 500 Internal Server Error" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 500 Internal Server Error
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Status should be FAILURE"><con:configuration><path>//response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorText should be valid"><con:configuration><path>//response/error/errorText</path><content>XML Validation Error: cvc-complex-type.2.4.a: Invalid content was found starting with element 'ipWhiteListAuth'. One of '{tdr, properties, headerTransformations}' is expected.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode should be valid"><con:configuration><path>//response/error/errorCode</path><content>102</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create auth with 2 types basicAuth and basicAuth - type basic - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth with 2 types basicAuth and basicAuth - type basic - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth0</id>
	<status>active</status>
	<type>basic</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
	<basicAuth>
		<username>username0</username>
		<password>cGFzc3dvcmQw</password>
	</basicAuth>

        <basicAuth>
		<username>username1</username>
		<password>cGFzc3dvcmQw</password>
	</basicAuth>

	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>
</auth>]]></con:request>
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 500 Internal Server Error&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 500 Internal Server Error" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 500 Internal Server Error
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Status should be FAILURE"><con:configuration><path>//response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorText should be valid"><con:configuration><path>//response/error/errorText</path><content>XML Validation Error: cvc-complex-type.2.4.a: Invalid content was found starting with element 'basicAuth'. One of '{tdr, properties, headerTransformations}' is expected.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode should be valid"><con:configuration><path>//response/error/errorCode</path><content>102</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create auth with 2 types authKey and basicAuth - type authKey - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth with 2 types authKey and basicAuth - type authKey - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth0</id>
	<status>active</status>
	<type>authKey</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
	<authKeyAuth>
		<keyValue>keyvaluesgfhjzghjzeg</keyValue>
	</authKeyAuth>
        <basicAuth>
		<username>username0</username>
		<password>cGFzc3dvcmQw</password>
	</basicAuth>

	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>
</auth>]]></con:request>
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 500 Internal Server Error&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 500 Internal Server Error" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 500 Internal Server Error
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Status should be FAILURE"><con:configuration><path>//response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorText should be valid"><con:configuration><path>//response/error/errorText</path><content>XML Validation Error: cvc-complex-type.2.4.a: Invalid content was found starting with element 'basicAuth'. One of '{tdr, properties, headerTransformations}' is expected.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode should be valid"><con:configuration><path>//response/error/errorCode</path><content>102</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create auth with 2 types  basicAuth and whiteList - type authKey - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth with 2 types  basicAuth and whiteList - type authKey - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth0</id>
	<status>active</status>
	<type>authKey</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
        <basicAuth>
		<username>username0</username>
		<password>cGFzc3dvcmQw</password>
	</basicAuth>
	<ipWhiteListAuth>
		<ip>192.168.84.67</ip>
		<ip>192.168.84.68</ip>
	</ipWhiteListAuth>
	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>	
</auth>]]></con:request>
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 500 Internal Server Error&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 500 Internal Server Error" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 500 Internal Server Error
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Status should be FAILURE"><con:configuration><path>//response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorText should be valid"><con:configuration><path>//response/error/errorText</path><content>XML Validation Error: cvc-complex-type.2.4.a: Invalid content was found starting with element 'ipWhiteListAuth'. One of '{tdr, properties, headerTransformations}' is expected.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode should be valid"><con:configuration><path>//response/error/errorCode</path><content>102</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create auth with 2 types  authKey and whiteList - type authKey - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth with 2 types  authKey and whiteList - type authKey - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth0</id>
	<status>active</status>
	<type>authKey</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
        <authKeyAuth>
		<keyValue>keyvaluesgfhjzghjzeg</keyValue>
	</authKeyAuth>

	<ipWhiteListAuth>
		<ip>192.168.84.67</ip>
		<ip>192.168.84.68</ip>
	</ipWhiteListAuth>
	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>	
</auth>]]></con:request>
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 500 Internal Server Error&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 500 Internal Server Error" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 500 Internal Server Error
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Status should be FAILURE"><con:configuration><path>//response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorText should be valid"><con:configuration><path>//response/error/errorText</path><content>XML Validation Error: cvc-complex-type.2.4.a: Invalid content was found starting with element 'ipWhiteListAuth'. One of '{tdr, properties, headerTransformations}' is expected.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode should be valid"><con:configuration><path>//response/error/errorCode</path><content>102</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create auth with 2 types  authKey and authKey - type authKey - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth with 2 types  authKey and authKey - type authKey - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth0</id>
	<status>active</status>
	<type>authKey</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
        <authKeyAuth>
		<keyValue>keyvaluesgfhjzghjzeg</keyValue>
	</authKeyAuth>

	<authKeyAuth>
		<keyValue>keyvaluesgfhjzghjzeg</keyValue>
	</authKeyAuth>
	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>	
</auth>]]></con:request>
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 500 Internal Server Error&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 500 Internal Server Error" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 500 Internal Server Error
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Status should be FAILURE"><con:configuration><path>//response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorText should be valid"><con:configuration><path>//response/error/errorText</path><content>XML Validation Error: cvc-complex-type.2.4.a: Invalid content was found starting with element 'authKeyAuth'. One of '{tdr, properties, headerTransformations}' is expected.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode should be valid"><con:configuration><path>//response/error/errorCode</path><content>102</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create auth with 2 types authKey and basicAuth - type  ipWhiteList - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth with 2 types authKey and basicAuth - type  ipWhiteList - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth0</id>
	<status>active</status>
	<type>ipWhiteList</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
	<authKeyAuth>
		<keyValue>keyvaluesgfhjzghjzeg</keyValue>
	</authKeyAuth>
        <basicAuth>
		<username>username0</username>
		<password>cGFzc3dvcmQw</password>
	</basicAuth>

	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>
</auth>]]></con:request>
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 500 Internal Server Error&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 500 Internal Server Error" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 500 Internal Server Error
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Status should be FAILURE"><con:configuration><path>//response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorText should be valid"><con:configuration><path>//response/error/errorText</path><content>XML Validation Error: cvc-complex-type.2.4.a: Invalid content was found starting with element 'basicAuth'. One of '{tdr, properties, headerTransformations}' is expected.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode should be valid"><con:configuration><path>//response/error/errorCode</path><content>102</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create auth with 2 types  basicAuth and whiteList - type  ipWhiteList - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth with 2 types  basicAuth and whiteList - type  ipWhiteList - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth0</id>
	<status>active</status>
	<type>ipWhiteList</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
        <basicAuth>
		<username>username0</username>
		<password>cGFzc3dvcmQw</password>
	</basicAuth>
	<ipWhiteListAuth>
		<ip>192.168.84.67</ip>
		<ip>192.168.84.68</ip>
	</ipWhiteListAuth>
	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>	
</auth>]]></con:request>
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 500 Internal Server Error&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 500 Internal Server Error" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 500 Internal Server Error
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Status should be FAILURE"><con:configuration><path>//response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorText should be valid"><con:configuration><path>//response/error/errorText</path><content>XML Validation Error: cvc-complex-type.2.4.a: Invalid content was found starting with element 'ipWhiteListAuth'. One of '{tdr, properties, headerTransformations}' is expected.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode should be valid"><con:configuration><path>//response/error/errorCode</path><content>102</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create auth with 2 types  authKey and whiteList - type  ipWhiteList - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth with 2 types  authKey and whiteList - type  ipWhiteList - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth0</id>
	<status>active</status>
	<type>ipWhiteList</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
        <authKeyAuth>
		<keyValue>keyvaluesgfhjzghjzeg</keyValue>
	</authKeyAuth>

	<ipWhiteListAuth>
		<ip>192.168.84.67</ip>
		<ip>192.168.84.68</ip>
	</ipWhiteListAuth>
	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>	
</auth>]]></con:request>
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 500 Internal Server Error&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 500 Internal Server Error" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 500 Internal Server Error
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Status should be FAILURE"><con:configuration><path>//response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorText should be valid"><con:configuration><path>//response/error/errorText</path><content>XML Validation Error: cvc-complex-type.2.4.a: Invalid content was found starting with element 'ipWhiteListAuth'. One of '{tdr, properties, headerTransformations}' is expected.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode should be valid"><con:configuration><path>//response/error/errorCode</path><content>102</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create auth with 2 types  whiteList and whiteList - type  ipWhiteList - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth with 2 types  whiteList and whiteList - type  ipWhiteList - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth0</id>
	<status>active</status>
	<type>ipWhiteList</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
        <ipWhiteListAuth>
		<ip>192.168.84.65</ip>
		<ip>192.168.84.66</ip>
	</ipWhiteListAuth>

	<ipWhiteListAuth>
		<ip>192.168.84.67</ip>
		<ip>192.168.84.68</ip>
	</ipWhiteListAuth>
	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>	
</auth>]]></con:request>
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 500 Internal Server Error&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 500 Internal Server Error" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 500 Internal Server Error
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="XPath Match" name="Status should be FAILURE"><con:configuration><path>//response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorText should be valid"><con:configuration><path>//response/error/errorText</path><content>XML Validation Error: cvc-complex-type.2.4.a: Invalid content was found starting with element 'ipWhiteListAuth'. One of '{tdr, properties, headerTransformations}' is expected.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode should be valid"><con:configuration><path>//response/error/errorCode</path><content>102</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase>
		<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Mismatch between type and auth type tag" searchProperties="true" id="1e9f9e81-aba1-4efe-a859-7237b7dd0d6a">
			<con:settings/>
			<con:testStep type="restrequest" name="Delete auth">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete auth" mediaType="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="AUTH_ID" value="auth-all-types-auth2" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Create auth type basic but with tag authKeyAuth - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth type basic but with tag authKeyAuth - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth-all-types-auth2</id>
	<status>active</status>
	<type>basic</type>
	<policyContext id="policyCtx2"/>
	<apiContext id="apiCtx2"/>
	
	<authKeyAuth>
		<keyValue>keyvaluesgfhjzghjzeg</keyValue>
	</authKeyAuth>	
	
	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
   	 </tdr>
</auth>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should contain correct error message"><con:configuration><path>/response</path><content><![CDATA[<response>
  <error>
    <errorText>Request did not contain BasicAuth info.</errorText>
    <errorCode>400</errorCode>
  </error>
  <status>FAILURE</status>
</response>]]></content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Create auth type basic but with tag ipWhiteListAuth - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth type basic but with tag ipWhiteListAuth - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth-all-types-auth2</id>
	<status>active</status>
	<type>basic</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
	<ipWhiteListAuth>
		<ip>192.168.84.67</ip>
		<ip>192.168.84.68</ip>
	</ipWhiteListAuth>
	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>
	
</auth>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should contain correct error message"><con:configuration><path>/response</path><content><![CDATA[<response>
  <error>
    <errorText>Request did not contain BasicAuth info.</errorText>
    <errorCode>400</errorCode>
  </error>
  <status>FAILURE</status>
</response>]]></content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Create auth type authKey but with tag basicAuth  - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth type authKey but with tag basicAuth  - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth-all-types-auth2</id>
	<status>active</status>
	<type>authKey</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
        <basicAuth>
		<username>username0</username>
		<password>cGFzc3dvcmQw</password>
	</basicAuth>
	
	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>
	
</auth>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should contain correct error message"><con:configuration><path>/response</path><content><![CDATA[<response>
  <error>
    <errorText>Request did not contain AuthKeyAuth info.</errorText>
    <errorCode>400</errorCode>
  </error>
  <status>FAILURE</status>
</response>]]></content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Create auth type authKey but with tag ipWhiteListAuth - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth type authKey but with tag ipWhiteListAuth - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth-all-types-auth2</id>
	<status>active</status>
	<type>authKey</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
	<ipWhiteListAuth>
		<ip>192.168.84.67</ip>
		<ip>192.168.84.68</ip>
	</ipWhiteListAuth>
	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>
	
</auth>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should contain correct error message"><con:configuration><path>/response</path><content><![CDATA[<response>
  <error>
    <errorText>Request did not contain AuthKeyAuth info.</errorText>
    <errorCode>400</errorCode>
  </error>
  <status>FAILURE</status>
</response>]]></content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Create auth type ipWhiteList but with tag authKeyAuth - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth type ipWhiteList but with tag authKeyAuth - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth-all-types-auth2</id>
	<status>active</status>
	<type>ipWhiteList</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>
	
	<authKeyAuth>
		<keyValue>keyvaluesgfhjzghjzeg</keyValue>
	</authKeyAuth>

	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>
	
</auth>]]></con:request>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create auth type ipWhiteList but with tag basicAuth - failed">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create auth type ipWhiteList but with tag basicAuth - failed" mediaType="application/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<auth>
	<id>auth-all-types-auth2</id>
	<status>active</status>
	<type>ipWhiteList</type>
	<policyContext id="policyCtx"/>
	<apiContext id="apiCtx"/>

        <basicAuth>
		<username>username0</username>
		<password>cGFzc3dvcmQw</password>
	</basicAuth>

	<tdr>
        <static tdrPropName="company" value="ALU"/>
        <static tdrPropName="bundle" value="B1">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </static>
        <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
        <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
            <types>
                <type>CompanyQuota</type>
                <type>Billing</type>
            </types>
        </dynamic>
    </tdr>
	
</auth>]]></con:request>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Delete auth - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete auth - TearDown" mediaType="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="AUTH_ID" value="auth-all-types-auth2" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Change types of auth when is not assigned" searchProperties="true" id="811b69db-a731-44b0-83bd-4ee5e72e71c8">
			<con:settings/>
			
			
			
			
			
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="change-types-auth3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create Auth AuthKey"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth AuthKey" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>change-types-auth3</id>
   <status>active</status>
   <type>authKey</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <authKeyAuth>
      <keyValue>change-types-key3</keyValue>
   </authKeyAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>change-types-auth3</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Change type from AuthKey to Basic"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Change type from AuthKey to Basic" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>change-types-auth3</id>
   <status>active</status>
   <type>basic</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <basicAuth>
      <username>newtester</username>
      <password>dGVzdGVycGFzc3dvcmQy</password>
<!--testerpassword2-->
   </basicAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="XPath Match" name="Response should have correct id"><con:configuration><path>//response/id</path><content>change-types-auth3</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should have correct status"><con:configuration><path>//response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Code 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="change-types-auth3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Modify Auth IP Host with correct ip"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Modify Auth IP Host with correct ip" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>change-types-auth3</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <ipWhiteListAuth>
      <ip>${= InetAddress.getLocalHost().getHostAddress()}</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="XPath Match" name="Response should have correct id"><con:configuration><path>//response/id</path><content>change-types-auth3</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should have correct status"><con:configuration><path>//response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Code 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="change-types-auth3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="change-types-auth3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Change types of auth when is assigned" searchProperties="true" id="f0e295ff-7328-4387-a128-29f7290a3bb5">
			<con:settings/>
			
			
			
			
			
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="change-types-p4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="change-types-auth4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="change-types-api4" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create API authKey">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API authKey" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>change-types-api4</id>
   <displayName>test_route_1</displayName>
   <type>PassThrough</type>
   <status>active</status>
   <endpoint>change-types-endpoint4</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>authKey</type>
      </supportedTypes>
      <authKey>
         <keyName>key</keyName>
      </authKey>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="test" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}:8080/proxySize.php</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>10</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>50.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>10</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>50.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration>
								<codes>200</codes>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>change-types-api4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create Auth AuthKey"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth AuthKey" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>change-types-auth4</id>
   <status>active</status>
   <type>authKey</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <authKeyAuth>
      <keyValue>change-types-key4</keyValue>
   </authKeyAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>change-types-auth4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>change-types-p4</id>
   <apiIds>
      <apiId>change-types-api4</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app1">
         <authId>change-types-auth4</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="production">
         <status>active</status>
         <quotaPerDay>
            <status>active</status>
            <action>reject</action>
            <warning>98</warning>
            <threshold>1000</threshold>
         </quotaPerDay>
      </context>
      <context id="test">
         <status>active</status>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>change-types-p4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Send request with correct key - success">
				<con:settings/>
				<con:config service="EndPoint-test" resourcePath="" methodName="GET With AuthKey" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Send request with correct key - success" mediaType="application/xml" accept="text/html">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="SIZE" value="10" xmlns="http://eviware.com/soapui/config"/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Gateway}/change-types-endpoint4</con:endpoint>
						<con:request/>
						
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 200 OK&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 200 OK" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 200 OK
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="key" value="change-types-key4" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Change type from AuthKey to Basic"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Change type from AuthKey to Basic" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>change-types-auth4</id>
   <status>active</status>
   <type>basic</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <basicAuth>
      <username>types1</username>
      <password>dGVzdGVycGFzc3dvcmQy</password>
<!--testerpassword2-->
   </basicAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="XPath Match" name="Response should have correct id"><con:configuration><path>//response/id</path><content>change-types-auth4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should have correct status"><con:configuration><path>//response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Code 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="change-types-auth4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Send request with correct credentials - failed"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With Authorization Header" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request with correct credentials - failed" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic dHlwZXMxOnRlc3RlcnBhc3N3b3JkMg==" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/change-types-endpoint4</con:endpoint><con:request/><con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 401 Unauthorized&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 401 Unauthorized" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 401 Unauthorized
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Response should contains &quot;Issue: Not Authorized&quot;"><con:configuration><token>Issue: Not Authorized</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Change type from Basic to whitelist"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Change type from Basic to whitelist" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>change-types-auth4</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <ipWhiteListAuth>
      <ip>${= InetAddress.getLocalHost().getHostAddress()}</ip>
      <ip>1.1.3.4</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="XPath Match" name="Response should have correct id"><con:configuration><path>//response/id</path><content>change-types-auth4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should have correct status"><con:configuration><path>//response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Code 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="change-types-auth4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Send request with correct ip - failed"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With No Param" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request with correct ip - failed" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/change-types-endpoint4</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Code 401"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Response should contain &quot;Issue: Not Authorized&quot;"><con:configuration><token>Issue: Not Authorized</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Change type from whitelist to AuthKey"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Change type from whitelist to AuthKey" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>change-types-auth4</id>
   <status>active</status>
   <type>authKey</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <authKeyAuth>
      <keyValue>change-types-key4</keyValue>
   </authKeyAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="XPath Match" name="Response should have correct id"><con:configuration><path>//response/id</path><content>change-types-auth4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should have correct status"><con:configuration><path>//response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Code 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="change-types-auth4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Send request with correct key 2">
				<con:settings/>
				<con:config service="EndPoint-test" resourcePath="" methodName="GET With AuthKey" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Send request with correct key 2" mediaType="application/xml" accept="text/html">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Gateway}/change-types-endpoint4</con:endpoint>
						<con:request/>
						
						<con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 200 OK&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 200 OK" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 200 OK
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="key" value="change-types-key4" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Delete Policy - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="change-types-p4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="change-types-auth4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="change-types-api4" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Get list of auths" searchProperties="true" id="9b99c2e0-be08-4c6e-9345-ac95d833f7c7">
			<con:settings/>
			<con:testStep type="restrequest" name="Delete auth type AuthKey">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete auth type AuthKey" mediaType="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="AUTH_ID" value="change-types-auth5-k" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			
			<con:testStep type="restrequest" name="Delete auth type Basic">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete auth type Basic" mediaType="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="AUTH_ID" value="change-types-auth5-b" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Delete auth type WhiteList">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete auth type WhiteList" mediaType="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="AUTH_ID" value="change-types-auth5-w" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Create Auth type AuthKey"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth type AuthKey" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>change-types-auth5-k</id>
   <status>active</status>
   <type>authKey</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <authKeyAuth>
      <keyValue>change-types-key5</keyValue>
   </authKeyAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>change-types-auth5-k</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Get list of auth with created AuthKey"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get list of auth with created AuthKey" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:assertion type="XPath Match" name="Response should have correct status"><con:configuration><path>//response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Auth created in step &quot;Create Auth type AuthKey&quot; should be on the list"><con:configuration><token>change-types-auth5-k</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create Auth type Basic"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth type Basic" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>change-types-auth5-b</id>
   <status>active</status>
   <type>basic</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <basicAuth>
      <username>change-types-auth5-b</username>
      <password>dGVzdGVycGFzc3dvcmQy</password>
<!--testerpassword2-->
   </basicAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>change-types-auth5-b</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Get list of auth with created Basic"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get list of auth with created Basic" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:assertion type="XPath Match" name="Response should have correct status"><con:configuration><path>//response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Auth created in step &quot;Create Auth type AuthKey&quot; should be on the list"><con:configuration><token>change-types-auth5-k</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Auth created in step &quot;Create Auth type Basic&quot; should be on the list"><con:configuration><token>change-types-auth5-b</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create Auth type WhiteList"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth type WhiteList" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>change-types-auth5-w</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <ipWhiteListAuth>
      <ip>255.2.2.1</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes - 500"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should have correct id"><con:configuration><path>/response/id</path><content>change-types-auth5-w</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should have valid status"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Get list of auth with created WhiteList"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get list of auth with created WhiteList" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:assertion type="XPath Match" name="Response should have correct status"><con:configuration><path>//response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Auth created in step &quot;Create Auth type AuthKey&quot; should be on the list"><con:configuration><token>change-types-auth5-k</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Auth created in step &quot;Create Auth type Basic&quot; should be on the list"><con:configuration><token>change-types-auth5-b</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Auth created in step &quot;Create Auth type WhiteList&quot; should be on the list"><con:configuration><token>change-types-auth5-w</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete auth type AuthKey from the list">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete auth type AuthKey from the list" mediaType="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="AUTH_ID" value="change-types-auth5-k" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Get list of auth without deleted AuthKey"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get list of auth without deleted AuthKey" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:assertion type="XPath Match" name="Response should have correct status"><con:configuration><path>//response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple NotContains" name="Auth created in step &quot;Create Auth type AuthKey&quot; should not be on the list"><con:configuration><token>change-types-auth5-k</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete auth type WhiteList from the list">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete auth type WhiteList from the list" mediaType="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="AUTH_ID" value="change-types-auth5-w" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Get list of auth without deleted WhiteList"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get list of auth without deleted WhiteList" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:assertion type="XPath Match" name="Response should have correct status"><con:configuration><path>//response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple NotContains" name="Auth created in step &quot;Create Auth type WhiteList&quot; should not be on the list"><con:configuration><token>change-types-auth5-w</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete auth type Basic from the list">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete auth type Basic from the list" mediaType="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="AUTH_ID" value="change-types-auth5-b" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Get list of auth without deleted Basic"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get list of auth without deleted Basic" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:assertion type="XPath Match" name="Response should have correct status"><con:configuration><path>//response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple NotContains" name="Auth created in step &quot;Create Auth type Basic&quot; should not be on the list"><con:configuration><token>change-types-auth5-b</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Test NoAuth" searchProperties="true" id="4921cb88-5ac6-452a-97cf-f2862cd7eb17">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="change-types-p6" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			<con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						
						
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="change-types-api6" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Request - Delete APi (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Request - Delete APi (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="change-types-api6" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			
			
			
			<con:testStep type="restrequest" name="Request - Create API NoAuth">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Request - Create API NoAuth" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>change-types-api6</id>
   <displayName>test_route_1</displayName>
   <type>PassThrough</type>
   <status>active</status>
   <endpoint>change-types-endpoint6</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>noAuth</type>
      </supportedTypes>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="test" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}:8080/proxySize</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>10</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>0.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>10</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>0.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration>
								<codes>200</codes>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>change-types-api6</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Request - Success NoAuth"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With No Param" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request - Success NoAuth" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="SIZE" value="10" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/change-types-endpoint6</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>9876543210</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Request - Delete API">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Request - Delete API" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration><codes>200</codes></con:configuration>
						</con:assertion>
						
						<con:assertion type="XPath Match" name="XPath Match - status">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="change-types-api6" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Test Invalid Provisioning" searchProperties="true" id="c1c98692-518c-4977-a067-918ef086e882"><con:settings/><con:testStep type="restrequest" name="Delete Auth authkey"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth authkey" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="change-types-auth7" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create Auth AuthKey - Empty Key"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth AuthKey - Empty Key" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>change-types-auth7</id>
   <status>active</status>
   <type>authKey</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <authKeyAuth>
      <keyValue></keyValue>
   </authKeyAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create Auth Basic - Empty User"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth Basic - Empty User" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>change-types-auth7</id>
   <status>active</status>
   <type>basic</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <basicAuth>
      <username></username>
      <password>dGVzdGVycGFzc3dvcmQy</password>
<!--testerpassword2-->
   </basicAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create Auth Basic - Empty Pass"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth Basic - Empty Pass" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>change-types-auth7</id>
   <status>active</status>
   <type>basic</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <basicAuth>
      <username>asdfasdf</username>
      <password></password>
<!--testerpassword2-->
   </basicAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth authkey1"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth authkey1" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="change-types-auth7" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/>
	</con:testSuite><con:testSuite name="auth-type-ip-white-list">
		<con:description>TestSuite generated for REST Service
			[functional-test-provision-api]</con:description>
		<con:settings/>
		<con:runType>SEQUENTIAL</con:runType>
		
		
		
		
		
		
		
		
		
		
		<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Add auth type whitelist with incorrect ip" searchProperties="true" id="6be91cc8-851a-48d7-80a0-8cae52b6f169">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-ip-white-list-p1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-ip-white-list-api1" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			
			<con:testStep type="restrequest" name="Create API IP White List">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API IP White List" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-type-ip-white-list-api1</id>
   <displayName>test_route_1</displayName>
   <type>PassThrough</type>
   <status>active</status>
   <endpoint>auth-type-ip-white-list-endpoint1</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>ipWhiteList</type>
      </supportedTypes>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-type-ip-white-list-api-context1" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}/proxySize</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>100</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>0.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>100</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>0.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration>
								<codes>200</codes>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-type-ip-white-list-api1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create Auth IP Host with incorrect ip"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth IP Host with incorrect ip" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth1</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context1"/>
   <apiContext id="auth-type-ip-white-list-api-context1"/>
   <ipWhiteListAuth>
      <ip>256.2.2.1</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>500</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/error/errorCode</path><content>102</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep>
			
			<con:testStep type="restrequest" name="Create Auth IP Host with empty ip"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth IP Host with empty ip" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth1</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context1"/>
   <apiContext id="auth-type-ip-white-list-api-context1"/>
   <ipWhiteListAuth>
      <ip></ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>500</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/error/errorCode</path><content>102</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Policy - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-ip-white-list-p1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-ip-white-list-auth1" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Add auth type whitelist with correct ip - allow requestor ip" searchProperties="true" id="21fc067e-45e6-4042-b15f-0b0d382a7182">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			
			
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-ip-white-list-p2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			
			
			<con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-ip-white-list-api2" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create API IP White List">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API IP White List" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-type-ip-white-list-api2</id>
   <displayName>test_route_1</displayName>
   <type>PassThrough</type>
   <status>active</status>
   <endpoint>auth-type-ip-white-list-endpoint2</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>ipWhiteList</type>
      </supportedTypes>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-type-ip-white-list-api-context2" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}:8080/proxySize</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>100</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>0.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>100</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>0.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration>
								<codes>200</codes>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-type-ip-white-list-api2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			<con:testStep type="restrequest" name="Create Auth IP Host"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth IP Host" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth2</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context2"/>
   <apiContext id="auth-type-ip-white-list-api-context2"/>
   <ipWhiteListAuth>
      <ip>${= InetAddress.getLocalHost().getHostAddress()}</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-ip-white-list-auth2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create the same Auth IP Host - failed"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create the same Auth IP Host - failed" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth2</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context2"/>
   <apiContext id="auth-type-ip-white-list-api-context2"/>
   <ipWhiteListAuth>
      <ip>${= InetAddress.getLocalHost().getHostAddress()}</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>500</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/error/errorText</path><content>Provisioning Server Error: java.lang.IllegalArgumentException: Auth already exists with that ID [auth-type-ip-white-list-auth2]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 2"><con:configuration><path>//response/error/errorCode</path><content>500</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>true</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>auth-type-ip-white-list-p2</id>
   <apiIds>
      <apiId>auth-type-ip-white-list-api2</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app1">
         <authId>auth-type-ip-white-list-auth2</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="auth-type-ip-white-list-policy-context2">
         <status>active</status>
         <quotaPerDay>
            <status>active</status>
            <action>reject</action>
            <warning>98</warning>
            <threshold>1000</threshold>
         </quotaPerDay>
      </context>
      <context id="test">
         <status>active</status>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-ip-white-list-p2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Request - Success IP"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With No Param" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request - Success IP" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-type-ip-white-list-endpoint2</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Policy - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-ip-white-list-p2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-ip-white-list-api2" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Add auth type whitelist with correct ip - disalow requestor ip" searchProperties="true" id="7c2ea06c-8bc3-4b0e-a4b1-c4b1cb2f52d6">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-ip-white-list-p3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-ip-white-list-api3" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			
			<con:testStep type="restrequest" name="Create API IP White List">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API IP White List" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-type-ip-white-list-api3</id>
   <displayName>test_route_1</displayName>
   <type>PassThrough</type>
   <status>active</status>
   <endpoint>auth-type-ip-white-list-endpoint3</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>ipWhiteList</type>
      </supportedTypes>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-type-ip-white-list-api-context3" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}/proxySize</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>100</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>0.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>100</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>0.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration>
								<codes>200</codes>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-type-ip-white-list-api3</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create Auth IP Host"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth IP Host" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth3</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context3"/>
   <apiContext id="auth-type-ip-white-list-api-context3"/>
   <ipWhiteListAuth>
      <ip>1.1.4.3</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-ip-white-list-auth3</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep>
			
			<con:testStep type="restrequest" name="Create the same Auth IP Host - failed"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create the same Auth IP Host - failed" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth3</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context3"/>
   <apiContext id="auth-type-ip-white-list-api-context3"/>
   <ipWhiteListAuth>
      <ip>${= InetAddress.getLocalHost().getHostAddress()}</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>500</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/error/errorText</path><content>Provisioning Server Error: java.lang.IllegalArgumentException: Auth already exists with that ID [auth-type-ip-white-list-auth3]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 2"><con:configuration><path>//response/error/errorCode</path><content>500</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>true</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>auth-type-ip-white-list-p3</id>
   <apiIds>
      <apiId>auth-type-ip-white-list-api3</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app1">
         <authId>auth-type-ip-white-list-auth3</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="auth-type-ip-white-list-policy-context3">
         <status>active</status>
         <quotaPerDay>
            <status>active</status>
            <action>reject</action>
            <warning>98</warning>
            <threshold>1000</threshold>
         </quotaPerDay>
      </context>
      <context id="test">
         <status>active</status>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-ip-white-list-p3</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Request - faild due to disalow ip"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With No Param" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request - faild due to disalow ip" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-type-ip-white-list-endpoint3</con:endpoint><con:request/><con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 401 Unauthorized&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 401 Unauthorized" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 401 Unauthorized
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Response should be: &quot;Issue: Not Authorized&quot;"><con:configuration><token>Issue: Not Authorized</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Policy - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-ip-white-list-p3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-ip-white-list-api3" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Change status of IP WhiteList" searchProperties="true" id="a9118dcd-baf2-4500-aac0-c7fa7926ad3c">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-ip-white-list-p4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-ip-white-list-api4" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			
			<con:testStep type="restrequest" name="Create API IP White List">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API IP White List" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-type-ip-white-list-api4</id>
   <displayName>test_route_1</displayName>
   <type>PassThrough</type>
   <status>active</status>
   <endpoint>auth-type-ip-white-list-endpoint4</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>ipWhiteList</type>
      </supportedTypes>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-type-ip-white-list-api-context4" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}/proxySize</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>100</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>0.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>100</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>0.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration>
								<codes>200</codes>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-type-ip-white-list-api4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create Auth IP Host"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth IP Host" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth4</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context4"/>
   <apiContext id="auth-type-ip-white-list-api-context4"/>
   <ipWhiteListAuth>
      <ip>1.1.1.1</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-ip-white-list-auth4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep>
			
			<con:testStep type="restrequest" name="Create policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>auth-type-ip-white-list-p4</id>
   <apiIds>
      <apiId>auth-type-ip-white-list-api4</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app1">
         <authId>auth-type-ip-white-list-auth4</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="auth-type-ip-white-list-policy-context4">
         <status>active</status>
         <quotaPerDay>
            <status>active</status>
            <action>reject</action>
            <warning>98</warning>
            <threshold>1000</threshold>
         </quotaPerDay>
      </context>
      <context id="test">
         <status>active</status>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-ip-white-list-p4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Set auth to inactive"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Set auth to inactive" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth4</id>
   <status>inactive</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context4"/>
   <apiContext id="auth-type-ip-white-list-api-context4"/>
   <ipWhiteListAuth>
      <ip>${= InetAddress.getLocalHost().getHostAddress()}</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="XPath Match" name="Response should have correct id"><con:configuration><path>//response/id</path><content>auth-type-ip-white-list-auth4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should have correct status"><con:configuration><path>//response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Code 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Request - ip allowed - failed"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With No Param" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request - ip allowed - failed" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-type-ip-white-list-endpoint4</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Repsonse status should be: &quot;HTTP/1.1 401 Unauthorized&quot;"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Response should be: &quot;Issue: Not Authorized&quot;"><con:configuration><token>Issue: Not Authorized</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Request -  ip disalowed - failed"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With No Param" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request -  ip disalowed - failed" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-type-ip-white-list-endpoint4</con:endpoint><con:request/><con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 403 Forbidden&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 401 Unauthorized" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 401 Unauthorized
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Response should be: &quot;Issue: Not Authorized&quot;"><con:configuration><token>Issue: Not Authorized</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Policy - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-ip-white-list-p4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth4" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-ip-white-list-api4" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Modify IP WhiteList" searchProperties="true" id="407a6a51-8a82-41ea-98b7-37cee1036b76">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-ip-white-list-p5" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth5" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-ip-white-list-api5" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			
			<con:testStep type="restrequest" name="Create API IP White List">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API IP White List" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-type-ip-white-list-api5</id>
   <displayName>test_route_1</displayName>
   <type>PassThrough</type>
   <status>active</status>
   <endpoint>auth-type-ip-white-list-endpoint5</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>ipWhiteList</type>
      </supportedTypes>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-type-ip-white-list-api-context5" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}/proxySize</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>100</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>0.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>100</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>0.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration>
								<codes>200</codes>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-type-ip-white-list-api5</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create Auth IP Host"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth IP Host" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth5</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context5"/>
   <apiContext id="auth-type-ip-white-list-api-context5"/>
   <ipWhiteListAuth>
      <ip>1.1.4.5</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-ip-white-list-auth5</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep>
			
			<con:testStep type="restrequest" name="Create policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>auth-type-ip-white-list-p5</id>
   <apiIds>
      <apiId>auth-type-ip-white-list-api5</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app1">
         <authId>auth-type-ip-white-list-auth5</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="auth-type-ip-white-list-policy-context5">
         <status>active</status>
         <quotaPerDay>
            <status>active</status>
            <action>reject</action>
            <warning>98</warning>
            <threshold>1000</threshold>
         </quotaPerDay>
      </context>
      <context id="test">
         <status>active</status>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-ip-white-list-p5</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Request - faild - ip disalowed"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With No Param" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request - faild - ip disalowed" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-type-ip-white-list-endpoint5</con:endpoint><con:request/><con:assertion type="GroovyScriptAssertion" name="Repsonse status should be: &quot;HTTP/1.1 401 Unauthorized&quot;"><con:configuration><scriptText>final String EXPECTED_STATUS = "HTTP/1.1 401 Unauthorized" 
final String RESPONSE_STATUS = messageExchange.getResponseHeaders().get("#status#")[0]
//Verify response code status. Should be HTTP/1.1 401 Unauthorized
assert EXPECTED_STATUS.equals(RESPONSE_STATUS) : "Expected status is \"${EXPECTED_STATUS}\" but was \"${RESPONSE_STATUS}\""</scriptText></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Response should be: &quot;Issue: Not Authorized&quot;"><con:configuration><token>Issue: Not Authorized</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Modify Auth IP Host with correct ip"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Modify Auth IP Host with correct ip" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth5</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context5"/>
   <apiContext id="auth-type-ip-white-list-api-context5"/>
   <ipWhiteListAuth>
      <ip>${= InetAddress.getLocalHost().getHostAddress()}</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="XPath Match" name="Response should have correct id"><con:configuration><path>//response/id</path><content>auth-type-ip-white-list-auth5</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should have correct status"><con:configuration><path>//response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Code 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth5" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Policy - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-ip-white-list-p5" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth5" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-ip-white-list-api5" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Delete auth IP WhiteList" searchProperties="true" id="6aed5345-79a2-4290-b6f8-4fb7bb8dc787">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-ip-white-list-p6" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth6" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			<con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-ip-white-list-api6" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create API IP White List">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API IP White List" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-type-ip-white-list-api6</id>
   <displayName>test_route_1</displayName>
   <type>PassThrough</type>
   <status>active</status>
   <endpoint>auth-type-ip-white-list-endpoint6</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>ipWhiteList</type>
      </supportedTypes>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-type-ip-white-list-api-context6" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}:8080/proxySize</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>100</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>0.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>100</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>0.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration>
								<codes>200</codes>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-type-ip-white-list-api6</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			
			<con:testStep type="restrequest" name="Create Auth IP Host"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth IP Host" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth6</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context6"/>
   <apiContext id="auth-type-ip-white-list-api-context6"/>
   <ipWhiteListAuth>
      <ip>${= InetAddress.getLocalHost().getHostAddress()}</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-ip-white-list-auth6</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>auth-type-ip-white-list-p6</id>
   <apiIds>
      <apiId>auth-type-ip-white-list-api6</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app1">
         <authId>auth-type-ip-white-list-auth6</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="auth-type-ip-white-list-policy-context6">
         <status>active</status>
         <quotaPerDay>
            <status>active</status>
            <action>reject</action>
            <warning>98</warning>
            <threshold>1000</threshold>
         </quotaPerDay>
      </context>
      <context id="test">
         <status>active</status>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-ip-white-list-p6</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep>
			
			<con:testStep type="restrequest" name="Delete Policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-ip-white-list-p6" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth IP Other"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth IP Other" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth6" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration><codes>200</codes></con:configuration>
						</con:assertion>
						
						<con:assertion type="XPath Match" name="XPath Match - status">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-ip-white-list-api6" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Add auth type whitelist with duplicated ip" searchProperties="true" id="5b49521a-70dc-44e9-be87-66f870082650">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			
			
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth7" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			
			
			
			
			<con:testStep type="restrequest" name="Create Auth IP with duplicated ip"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth IP with duplicated ip" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth7</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context7"/>
   <apiContext id="auth-type-ip-white-list-api-context7"/>
   <ipWhiteListAuth>
      <ip>${= InetAddress.getLocalHost().getHostAddress()}</ip>
      <ip>${= InetAddress.getLocalHost().getHostAddress()}</ip>
      <ip>${= InetAddress.getLocalHost().getHostAddress()}</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response</path><content><![CDATA[<response>
  <error>
    <errorText>Duplicate ip in white-list: ${= InetAddress.getLocalHost().getHostAddress()}</errorText>
    <errorCode>400</errorCode>
  </error>
  <status>FAILURE</status>
</response>]]></content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Add auth type whitelist with existing ip" searchProperties="true" id="d2e6896b-c974-465a-bdbe-725790d9173c">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			
			
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth8" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			
			
			
			
			<con:testStep type="restrequest" name="Create Auth IP with 3 ip addresses"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth IP with 3 ip addresses" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth8</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context8"/>
   <apiContext id="auth-type-ip-white-list-api-context8"/>
   <ipWhiteListAuth>
      <ip>1.1.4.81</ip>
      <ip>1.1.4.82</ip>
      <ip>1.1.4.83</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-ip-white-list-auth8</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create Auth IP with the same addresses but different order"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth IP with the same addresses but different order" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth8_2</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context8"/>
   <apiContext id="auth-type-ip-white-list-api-context8"/>
   <ipWhiteListAuth>
      <ip>1.1.4.83</ip>
      <ip>1.1.4.81</ip>
      <ip>1.1.4.82</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>500</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create Auth IP with one address from three"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth IP with one address from three" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth8_3</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context8"/>
   <apiContext id="auth-type-ip-white-list-api-context8"/>
   <ipWhiteListAuth>
      <ip>1.1.4.83</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>500</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth8" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Assign new IP WhiteList to policy" searchProperties="true" id="df3e5012-73f3-416a-b97c-10975f317cb2">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-ip-white-list-p9" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth9" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			<con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-ip-white-list-api9" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			
			<con:testStep type="restrequest" name="Create API IP White List">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API IP White List" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-type-ip-white-list-api9</id>
   <displayName>test_route_1</displayName>
   <type>PassThrough</type>
   <status>active</status>
   <endpoint>auth-type-ip-white-list-endpoint9</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>ipWhiteList</type>
      </supportedTypes>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-type-ip-white-list-api-context9" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}:8080/proxySize</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>100</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>0.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>100</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>0.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration>
								<codes>200</codes>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-type-ip-white-list-api9</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create Auth IP Host"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth IP Host" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth9</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context9"/>
   <apiContext id="auth-type-ip-white-list-api-context9"/>
   <ipWhiteListAuth>
      <ip>${= InetAddress.getLocalHost().getHostAddress()}</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-ip-white-list-auth9</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep>
			
			<con:testStep type="restrequest" name="Create policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>auth-type-ip-white-list-p9</id>
   <apiIds>
      <apiId>auth-type-ip-white-list-api9</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app1">
         <authId>auth-type-ip-white-list-auth9</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="auth-type-ip-white-list-policy-context9">
         <status>active</status>
         <quotaPerDay>
            <status>active</status>
            <action>reject</action>
            <warning>98</warning>
            <threshold>1000</threshold>
         </quotaPerDay>
      </context>
      <context id="test">
         <status>active</status>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-ip-white-list-p9</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Success IP"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With No Param" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Success IP" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-type-ip-white-list-endpoint9</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth IP Host"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth IP Host" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth9" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create Auth IP Other"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth IP Other" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth9</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <ipWhiteListAuth>
      <ip>94.156.99.150</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-ip-white-list-auth9</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Update Policy with Auth Other"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}/quotaRLBuckets/{BUCKET_ID}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Update Policy with Auth Other" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request>&lt;quotaRLBucket>
   &lt;authId>auth-type-ip-white-list-auth9&lt;/authId>
&lt;/quotaRLBucket></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="BUCKET_ID" value="app1"/>
  <con:entry key="POLICY_ID" value="auth-type-ip-white-list-p9"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Invalid IP"><con:settings/><con:config service="EndPoint-test" resourcePath="" methodName="GET With No Param" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Invalid IP" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-type-ip-white-list-endpoint9</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-ip-white-list-p9" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Request - Delete Auth IP Other"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request - Delete Auth IP Other" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth9" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Request - Delete API">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Request - Delete API" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration><codes>200</codes></con:configuration>
						</con:assertion>
						
						<con:assertion type="XPath Match" name="XPath Match - status">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-ip-white-list-api9" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Modify WhiteList  with ip that exist in other whitelist" searchProperties="true" id="4d5cf094-a97a-432e-a982-6839f2cde7f6">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-ip-white-list-p10" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth10_1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth2 (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth2 (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth10_2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			
			
			<con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-ip-white-list-api10" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			<con:testStep type="restrequest" name="Create API IP White List">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API IP White List" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-type-ip-white-list-api10</id>
   <displayName>test_route_1</displayName>
   <type>PassThrough</type>
   <status>active</status>
   <endpoint>auth-type-ip-white-list-endpoint10</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>ipWhiteList</type>
      </supportedTypes>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-type-ip-white-list-api-context10" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}/proxySize</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>100</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>0.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>100</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>0.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration>
								<codes>200</codes>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-type-ip-white-list-api10</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create Auth Whitelist 1"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth Whitelist 1" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth10_1</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context10"/>
   <apiContext id="auth-type-ip-white-list-api-context10"/>
   <ipWhiteListAuth>
      <ip>1.1.4.101</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-ip-white-list-auth10_1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create Auth Whitelist 2"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth Whitelist 2" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth10_2</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context10"/>
   <apiContext id="auth-type-ip-white-list-api-context10"/>
   <ipWhiteListAuth>
      <ip>1.1.4.102</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-ip-white-list-auth10_2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Change ip of whitelist 2 to ip of whitelist 1"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Change ip of whitelist 2 to ip of whitelist 1" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-ip-white-list-auth10_2</id>
   <status>active</status>
   <type>ipWhiteList</type>
   <policyContext id="auth-type-ip-white-list-policy-context10"/>
   <apiContext id="auth-type-ip-white-list-api-context10"/>
   <ipWhiteListAuth>
      <ip>1.1.4.101</ip>
   </ipWhiteListAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="XPath Match" name="Response should have correct errorCode"><con:configuration><path>//response/error/errorCode</path><content>500</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should have correct status"><con:configuration><path>//response/status</path><content>FAILURE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Code 500"><con:configuration><codes>500</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="Response should have correct errorText"><con:configuration><path>//response/error/errorText</path><content>Provisioning Server Error: java.lang.IllegalArgumentException: An authorization with the same IP address already exist</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth10_2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Policy - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-ip-white-list-p10" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth10_1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth2 - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth2 - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-ip-white-list-auth10_2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-ip-white-list-api10" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties/>
		</con:testCase><con:properties/>
	</con:testSuite><con:testSuite name="auth-type-wsse">
		<con:description>TestSuite generated for REST Service
			[functional-test-provision-api]</con:description>
		<con:settings/>
		<con:runType>SEQUENTIAL</con:runType>
		
		
		
		
		
		
		
		
		
		
		<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Add and test auth type WSSE" searchProperties="true" id="b700c3ae-ca48-4f6d-826c-a29f057f1273">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			
			
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-wsse-p1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			
			
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-wsse-auth1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-wsse-api1" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			<con:testStep type="restrequest" name="Create API WSSE">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API WSSE" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-type-wsse-api1</id>
   <displayName>test_route_1</displayName>
   <type>PassThrough</type>
   <status>active</status>
   <endpoint>auth-type-wsse-endpoint1</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>wsse</type>
      </supportedTypes>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-type-wsse-apicontext1" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}:8080/proxySize</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>100</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>50.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>100</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>50.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration>
								<codes>200</codes>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-type-wsse-api1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create Auth WSSE without username - failed"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth WSSE without username - failed" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-wsse-auth1</id>
   <status>active</status>
   <type>wsse</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
   <wsseAuth>
      <username></username>
      <password>dGVzdGVycGFzc3dvcmQy</password>
      <passwordType>PlainText</passwordType>
   </wsseAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" disabled="true"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" disabled="true"><con:configuration><path>/response/id</path><content>auth0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1" disabled="true"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create Auth WSSE without user and password - failed"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth WSSE without user and password - failed" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-wsse-auth1</id>
   <status>active</status>
   <type>wsse</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
    <wsseAuth>
      <username></username>
      <password></password>
      <passwordType>PlainText</passwordType>
   </wsseAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" disabled="true"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" disabled="true"><con:configuration><path>/response/id</path><content>auth0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1" disabled="true"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create Auth WSSE without password - failed"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth WSSE without password - failed" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-wsse-auth1</id>
   <status>active</status>
   <type>wsse</type>
   <policyContext id="test"/>
   <apiContext id="test"/>
    <wsseAuth>
      <username>username1</username>
      <password></password>
      <passwordType>PlainText</passwordType>
   </wsseAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" disabled="true"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" disabled="true"><con:configuration><path>/response/id</path><content>auth0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1" disabled="true"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create Auth Wsse"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth Wsse" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-wsse-auth1</id>
   <status>active</status>
   <type>wsse</type>
   <policyContext id="auth-type-wsse-policy-context1"/>
   <apiContext id="auth-type-wsse-api-context1"/>
    <wsseAuth>
      <username>auth-type-wsse-username1</username>
      <password>YXV0aC10eXBlLXdzc2UtcGFzc3dvcmQx</password>
<!-- auth-type-wsse-password1 -->
      <passwordType>PlainText</passwordType>
   </wsseAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" disabled="true"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" disabled="true"><con:configuration><path>/response/id</path><content>auth0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1" disabled="true"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>auth-type-wsse-p1</id>
   <apiIds>
      <apiId>auth-type-wsse-api1</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app1">
         <authId>auth-type-wsse-auth1</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="auth-type-wsse-policy-context1">
         <status>active</status>
         <rateLimitPerMinute>
            <status>active</status>
            <action>reject</action>
            <warning>50</warning>
            <threshold>100</threshold>
         </rateLimitPerMinute>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-wsse-p1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Set HTTP WSSE request parameters"><con:settings/><con:config><script>import java.security.MessageDigest;
import java.security.NoSuchAlgorithmException;
import java.security.SecureRandom;
import java.text.DateFormat;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.TimeZone;

final String username = "auth-type-wsse-username1";
final String password = "auth-type-wsse-password1";   // encodeBase64("swordfish") -> "c3dvcmRmaXNo"

final String nonce = Wsse.getNewNonce();
final String created = Wsse.getCreated(new Date());
final String digest = Wsse.getPasswordDigest(nonce, created, password);

final String pastCreated = "2012-03-27T01:23:45Z";   // in the past
final String futureCreated = "2037-03-27T01:23:45Z";   // in the future
final String badDigest = Wsse.getPasswordDigest(nonce, created, "NotThePassword");

testRunner.testCase.setPropertyValue("wsseUsername", username);
testRunner.testCase.setPropertyValue("wsseDigest", digest);
testRunner.testCase.setPropertyValue("wsseNonce", Wsse.getNonceEncoded(nonce));
testRunner.testCase.setPropertyValue("wsseCreated", created);

testRunner.testCase.setPropertyValue("wssePastCreated", pastCreated);
testRunner.testCase.setPropertyValue("wsseFutureCreated", futureCreated);
testRunner.testCase.setPropertyValue("wsseBadDigest", badDigest);

class Wsse {
	
    private static final DateFormat format = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");

    static {
        format.setTimeZone(TimeZone.getTimeZone("GMT"));
    }

    private static SecureRandom random;

    static {
        try {
            random = SecureRandom.getInstance("SHA1PRNG");
        } catch (NoSuchAlgorithmException e) {
            throw new RuntimeException();   // missing algorithm -- should not happen
        }
    }

    public static String getNewNonce() {
        byte[] nonceBytes = new byte[10];
        random.nextBytes(nonceBytes);
        return getNonce(nonceBytes);
    }
	
    public static String getNonce(byte[] nonceBytes) {
        return nonceBytes.encodeBase64().toString();
    }
	
    public static String getNonceEncoded(String nonce) {
        return nonce.getBytes().encodeBase64().toString();
    }
	
    public static Date getCreatedDate(String created) throws ParseException {
        synchronized (format) {   // some implementations of SimpleDateFormat are not thread-safe
            return format.parse(created);
        }
    }
	
    public static String getCreated(Date when) {
        synchronized (format) {   // some implementations of SimpleDateFormat are not thread-safe
            return format.format(when);
        }
    }

    public static String getPasswordDigest(String nonce, String created, String password) {
        byte[] nonceBytes = nonce.getBytes();
        byte[] createdBytes = created.getBytes();
        byte[] passwordBytes = password.getBytes();
        byte[] bytes = concatenate(nonceBytes, createdBytes, passwordBytes);
        try {
            return MessageDigest.getInstance("SHA-1").digest(bytes).encodeBase64();
        } catch (NoSuchAlgorithmException e) {
            throw new RuntimeException(e);   // missing message digest algorithm -- should not happen
        }
    }
	
    static byte[] concatenate(byte[] ... byteArrays) {
        int len = 0;
        for (byte[] bytes : byteArrays) {
            len += bytes.length;
        }
        byte[] allBytes = new byte[len];
        int off = 0;
        for (byte[] bytes : byteArrays) {
            System.arraycopy(bytes, 0, allBytes, off, bytes.length);
            off += bytes.length;
        }
        return allBytes;
    }
}

</script></con:config></con:testStep><con:testStep type="httprequest" name="Past parameterized HTTP WSSE request - failed"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="Past parameterized HTTP WSSE request - failed" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-type-wsse-endpoint1</con:endpoint><con:request><![CDATA[<?xml version='1.0' encoding='UTF-8'?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
	<soapenv:Header>
	    <wsse:Security soapenv:mustUnderstand="true" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
             <wsse:UsernameToken wsu:Id="UsernameToken-1" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
                 <wsse:Username>${#TestCase#wsseUsername}</wsse:Username>
                 <wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">${#TestCase#wsseDigest}</wsse:Password>
                 <wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">${#TestCase#wsseNonce}</wsse:Nonce>
                 <wsu:Created>${#TestCase#wssePastCreated}</wsu:Created>
             </wsse:UsernameToken>
         </wsse:Security>
	</soapenv:Header>
	<soapenv:Body>
		<loc:NewOperation xmlns:loc="http://www.example.org/SimpleService/">
			<in>My Simple Service Request</in>
		</loc:NewOperation>
	</soapenv:Body>
</soapenv:Envelope>
]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="Future parameterized HTTP WSSE request - failed"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="Future parameterized HTTP WSSE request - failed" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-type-wsse-endpoint1</con:endpoint><con:request><![CDATA[<?xml version='1.0' encoding='UTF-8'?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
	<soapenv:Header>
	    <wsse:Security soapenv:mustUnderstand="true" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
             <wsse:UsernameToken wsu:Id="UsernameToken-1" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
                 <wsse:Username>${#TestCase#wsseUsername}</wsse:Username>
                 <wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">${#TestCase#wsseDigest}</wsse:Password>
                 <wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">${#TestCase#wsseNonce}</wsse:Nonce>
                 <wsu:Created>${#TestCase#wsseFutureCreated}</wsu:Created>
             </wsse:UsernameToken>
         </wsse:Security>
	</soapenv:Header>
	<soapenv:Body>
		<loc:NewOperation xmlns:loc="http://www.example.org/SimpleService/">
			<in>My Simple Service Request</in>
		</loc:NewOperation>
	</soapenv:Body>
</soapenv:Envelope>
]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="Wrong password parameterized HTTP WSSE request - failed"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="Wrong password parameterized HTTP WSSE request - failed" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-type-wsse-endpoint1</con:endpoint><con:request><![CDATA[<?xml version='1.0' encoding='UTF-8'?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
	<soapenv:Header>
	    <wsse:Security soapenv:mustUnderstand="true" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
             <wsse:UsernameToken wsu:Id="UsernameToken-1" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
                 <wsse:Username>${#TestCase#wsseUsername}</wsse:Username>
                 <wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">${#TestCase#wsseBadDigest}</wsse:Password>
                 <wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">${#TestCase#wsseNonce}</wsse:Nonce>
                 <wsu:Created>${#TestCase#wsseCreated}</wsu:Created>
             </wsse:UsernameToken>
         </wsse:Security>
	</soapenv:Header>
	<soapenv:Body>
		<loc:NewOperation xmlns:loc="http://www.example.org/SimpleService/">
			<in>My Simple Service Request</in>
		</loc:NewOperation>
	</soapenv:Body>
</soapenv:Envelope>
]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="Bad password type parameterized HTTP WSSE request - failed"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="Bad password type parameterized HTTP WSSE request - failed" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-type-wsse-endpoint1</con:endpoint><con:request><![CDATA[<?xml version='1.0' encoding='UTF-8'?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
	<soapenv:Header>
	    <wsse:Security soapenv:mustUnderstand="true" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
             <wsse:UsernameToken wsu:Id="UsernameToken-1" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
                 <wsse:Username>${#TestCase#wsseUsername}</wsse:Username>
                 <wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText">${#TestCase#wsseBadDigest}</wsse:Password>
                 <wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">${#TestCase#wsseNonce}</wsse:Nonce>
                 <wsu:Created>${#TestCase#wsseCreated}</wsu:Created>
             </wsse:UsernameToken>
         </wsse:Security>
	</soapenv:Header>
	<soapenv:Body>
		<loc:NewOperation xmlns:loc="http://www.example.org/SimpleService/">
			<in>My Simple Service Request</in>
		</loc:NewOperation>
	</soapenv:Body>
</soapenv:Envelope>
]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="Parameterized HTTP WSSE request - successful"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="Parameterized HTTP WSSE request - successful" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-type-wsse-endpoint1</con:endpoint><con:request><![CDATA[<?xml version='1.0' encoding='UTF-8'?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
	<soapenv:Header>
	    <wsse:Security soapenv:mustUnderstand="true" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
             <wsse:UsernameToken wsu:Id="UsernameToken-1" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
                 <wsse:Username>${#TestCase#wsseUsername}</wsse:Username>
                 <wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">${#TestCase#wsseDigest}</wsse:Password>
                 <wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">${#TestCase#wsseNonce}</wsse:Nonce>
                 <wsu:Created>${#TestCase#wsseCreated}</wsu:Created>
             </wsse:UsernameToken>
         </wsse:Security>
	</soapenv:Header>
	<soapenv:Body>
		<loc:NewOperation xmlns:loc="http://www.example.org/SimpleService/">
			<in>My Simple Service Request</in>
		</loc:NewOperation>
	</soapenv:Body>
</soapenv:Envelope>
]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="Replay parameterized HTTP WSSE request - failed"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="Replay parameterized HTTP WSSE request - failed" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-type-wsse-endpoint1</con:endpoint><con:request><![CDATA[<?xml version='1.0' encoding='UTF-8'?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
	<soapenv:Header>
	    <wsse:Security soapenv:mustUnderstand="true" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
             <wsse:UsernameToken wsu:Id="UsernameToken-1" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
                 <wsse:Username>${#TestCase#wsseUsername}</wsse:Username>
                 <wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">${#TestCase#wsseDigest}</wsse:Password>
                 <wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">${#TestCase#wsseNonce}</wsse:Nonce>
                 <wsu:Created>${#TestCase#wsseCreated}</wsu:Created>
             </wsse:UsernameToken>
         </wsse:Security>
	</soapenv:Header>
	<soapenv:Body>
		<loc:NewOperation xmlns:loc="http://www.example.org/SimpleService/">
			<in>My Simple Service Request</in>
		</loc:NewOperation>
	</soapenv:Body>
</soapenv:Envelope>
]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="Set HTTP WSSE request parameters without Created and Nonce"><con:settings/><con:config><script>import java.security.MessageDigest;
import java.security.NoSuchAlgorithmException;
import java.security.SecureRandom;
import java.text.DateFormat;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.TimeZone;

final String username = "auth-type-wsse-username1";
final String password = "auth-type-wsse-password1";   // encodeBase64("swordfish") -> "c3dvcmRmaXNo"

final String digest = Wsse.getPasswordDigest(password);

testRunner.testCase.setPropertyValue("wsseUsername", username);
testRunner.testCase.setPropertyValue("wsseDigest", digest);
testRunner.testCase.setPropertyValue("wsseNonce", "");
testRunner.testCase.setPropertyValue("wsseCreated", "");

class Wsse {
	
    private static final DateFormat format = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");

    static {
        format.setTimeZone(TimeZone.getTimeZone("GMT"));
    }

    private static SecureRandom random;

    static {
        try {
            random = SecureRandom.getInstance("SHA1PRNG");
        } catch (NoSuchAlgorithmException e) {
            throw new RuntimeException();   // missing algorithm -- should not happen
        }
    }
 	
    public static String getPasswordDigest(String password) {
        byte[] passwordBytes = password.getBytes();
        try {
            return MessageDigest.getInstance("SHA-1").digest(passwordBytes).encodeBase64();
        } catch (NoSuchAlgorithmException e) {
            throw new RuntimeException(e);   // missing message digest algorithm -- should not happen
        }
    }
}

</script></con:config></con:testStep><con:testStep type="httprequest" name="Parameterized HTTP WSSE request without Created and Nonce - successful"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="Parameterized HTTP WSSE request without Created and Nonce - successful" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-type-wsse-endpoint1</con:endpoint><con:request><![CDATA[<?xml version='1.0' encoding='UTF-8'?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
	<soapenv:Header>
	    <wsse:Security soapenv:mustUnderstand="true" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
             <wsse:UsernameToken wsu:Id="UsernameToken-1" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
                 <wsse:Username>${#TestCase#wsseUsername}</wsse:Username>
                 <wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">${#TestCase#wsseDigest}</wsse:Password>
             </wsse:UsernameToken>
         </wsse:Security>
	</soapenv:Header>
	<soapenv:Body>
		<loc:NewOperation xmlns:loc="http://www.example.org/SimpleService/">
			<in>My Simple Service Request</in>
		</loc:NewOperation>
	</soapenv:Body>
</soapenv:Envelope>
]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="restrequest" name="Delete Policy - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-wsse-p1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-wsse-auth1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-wsse-api1" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties><con:property><con:name>wsseUsername</con:name><con:value>auth-type-wsse-username1</con:value></con:property><con:property><con:name>wsseDigest</con:name><con:value>rSums10OsGJlIZ01fc9OZXMHWWE=</con:value></con:property><con:property><con:name>wsseNonce</con:name><con:value/></con:property><con:property><con:name>wsseCreated</con:name><con:value/></con:property><con:property><con:name>wssePastCreated</con:name><con:value>2012-03-27T01:23:45Z</con:value></con:property><con:property><con:name>wsseFutureCreated</con:name><con:value>2037-03-27T01:23:45Z</con:value></con:property><con:property><con:name>wsseBadDigest</con:name><con:value>eDjxgPNb2a+Lq6Wt9PjEs1ImoRQ=</con:value></con:property></con:properties>
		</con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Test PlainText Password + Body preservation" searchProperties="true" id="d0ff1680-30a0-4fb3-b920-154feedef9c9">
			<con:description>TestCase generated for REST Resource [/apis] located
				at [/apis]</con:description>
			<con:settings/>
			
			
			<con:testStep type="restrequest" name="Delete Policy (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-wsse-p2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep>
			
			
			<con:testStep type="restrequest" name="Delete Auth (if exist)"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth (if exist)" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-wsse-auth2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API (if exist)">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API (if exist)" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-wsse-api2" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			
			<con:testStep type="restrequest" name="Create API WSSE">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create API WSSE" mediaType="application/xml" postQueryString="false" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request><![CDATA[<api>
   <id>auth-type-wsse-api2</id>
   <displayName>test_route_1</displayName>
   <type>PassThrough</type>
   <status>active</status>
   <endpoint>auth-type-wsse-endpoint2</endpoint>
   <https>false</https>
   <authentication>
      <supportedTypes>
         <type>wsse</type>
      </supportedTypes>
   </authentication>
   <tdrEnabled>
      <enabled>false</enabled>
   </tdrEnabled>
   <contexts>
      <context id="auth-type-wsse-apicontext2" default="true">
         <targetHosts>
            <targetHost>
               <url>http://${#Project#Target1}:8080/displayBody</url>
               <authentication>
                  <type>NoAuth</type>
                  <data>
                     <key name="aKey00">key000Val</key>
                  </data>
               </authentication>
            </targetHost>
         </targetHosts>
         <status>active</status>
         <maxRateLimitTPSThreshold>100</maxRateLimitTPSThreshold>
         <maxRateLimitTPSWarning>50.0</maxRateLimitTPSWarning>
         <maxRateLimitTPMThreshold>100</maxRateLimitTPMThreshold>
         <maxRateLimitTPMWarning>50.0</maxRateLimitTPMWarning>
      </context>
   </contexts>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</api>]]></con:request>
						<con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
							<con:configuration>
								<codes>200</codes>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath Match">
							<con:configuration>
								<path>/response/status</path>
								<content>SUCCESS</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
								<ignoreComments>false</ignoreComments>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="XPath apiID">
							<con:configuration><path>/response/id</path><content>auth-type-wsse-api2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration>
						</con:assertion>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep><con:testStep type="restrequest" name="Create Auth Wsse"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Auth Wsse" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<auth>
   <id>auth-type-wsse-auth2</id>
   <status>active</status>
   <type>wsse</type>
   <policyContext id="auth-type-wsse-policy-context2"/>
   <apiContext id="auth-type-wsse-api-context2"/>
    <wsseAuth>
      <username>auth-type-wsse-username2</username>
      <password>YXV0aC10eXBlLXdzc2UtcGFzc3dvcmQy</password>
      <passwordType>PlainText</passwordType>
   </wsseAuth>
   <tdr>
      <static tdrPropName="company" value="ALU"/>
      <static tdrPropName="bundle" value="B1">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </static>
      <dynamic tdrPropName="cust1" httpHeaderName="X-CUST1"/>
      <dynamic tdrPropName="cust2" httpHeaderName="X-CUST2">
         <types>
            <type>CompanyQuota</type>
            <type>Billing</type>
         </types>
      </dynamic>
   </tdr>
</auth>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-wsse-auth2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create policy"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create policy" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request><![CDATA[<policy>
   <id>auth-type-wsse-p2</id>
   <apiIds>
      <apiId>auth-type-wsse-api2</apiId>
   </apiIds>
   <authIds>
      <quotaRLBucket id="app2">
         <authId>auth-type-wsse-auth2</authId>
      </quotaRLBucket>
   </authIds>
   <contexts>
      <context id="auth-type-wsse-policy-context2">
         <status>active</status>
         <rateLimitPerMinute>
            <status>active</status>
            <action>reject</action>
            <warning>50</warning>
            <threshold>100</threshold>
         </rateLimitPerMinute>
      </context>
   </contexts>
</policy>]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>/response/id</path><content>auth-type-wsse-p2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 1"><con:configuration><path>/response/status</path><content>SUCCESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="httprequest" name="Wrong password HTTP WSSE request - failed"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="Wrong password HTTP WSSE request - failed" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-type-wsse-endpoint2</con:endpoint><con:request><![CDATA[<?xml version='1.0' encoding='UTF-8'?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
	<soapenv:Header>
	    <wsse:Security soapenv:mustUnderstand="true" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
             <wsse:UsernameToken wsu:Id="UsernameToken-1" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
                 <wsse:Username>${#TestCase#wsseUsername}</wsse:Username>
                 <wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText">${#TestCase#wsseBadPassword}</wsse:Password>
             </wsse:UsernameToken>
         </wsse:Security>
	</soapenv:Header>
	<soapenv:Body>
		<loc:NewOperation xmlns:loc="http://www.example.org/SimpleService/">
			<in>My Simple Service Request</in>
		</loc:NewOperation>
	</soapenv:Body>
</soapenv:Envelope>
]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="Bad password type HTTP WSSE request - failed"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="Bad password type HTTP WSSE request - failed" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-type-wsse-endpoint2</con:endpoint><con:request><![CDATA[<?xml version='1.0' encoding='UTF-8'?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
	<soapenv:Header>
	    <wsse:Security soapenv:mustUnderstand="true" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
             <wsse:UsernameToken wsu:Id="UsernameToken-1" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
                 <wsse:Username>${#TestCase#wsseUsername}</wsse:Username>
                 <wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">${#TestCase#wssePassword}</wsse:Password>
             </wsse:UsernameToken>
         </wsse:Security>
	</soapenv:Header>
	<soapenv:Body>
		<loc:NewOperation xmlns:loc="http://www.example.org/SimpleService/">
			<in>My Simple Service Request</in>
		</loc:NewOperation>
	</soapenv:Body>
</soapenv:Envelope>
]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="HTTP WSSE request - successful"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="HTTP WSSE request - successful" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-type-wsse-endpoint2</con:endpoint><con:request><![CDATA[<?xml version='1.0' encoding='UTF-8'?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
	<soapenv:Header>
	    <wsse:Security soapenv:mustUnderstand="true" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
             <wsse:UsernameToken wsu:Id="UsernameToken-1" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
                 <wsse:Username>${#TestCase#wsseUsername}</wsse:Username>
                 <wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText">${#TestCase#wssePassword}</wsse:Password>
             </wsse:UsernameToken>
         </wsse:Security>
	</soapenv:Header>
	<soapenv:Body>
		<loc:NewOperation xmlns:loc="http://www.example.org/SimpleService/">
			<in>My Simple Service Request</in>
		</loc:NewOperation>
	</soapenv:Body>
</soapenv:Envelope>
]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>My Simple Service Request</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains 1"><con:configuration><token>&lt;soapenv:Envelope</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="HTTP WSSE request (default Password type) - successful"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="HTTP WSSE request (default Password type) - successful" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Gateway}/auth-type-wsse-endpoint2</con:endpoint><con:request><![CDATA[<?xml version='1.0' encoding='UTF-8'?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
	<soapenv:Header>
	    <wsse:Security soapenv:mustUnderstand="true" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
             <wsse:UsernameToken wsu:Id="UsernameToken-1" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
                 <wsse:Username>${#TestCase#wsseUsername}</wsse:Username>
                 <wsse:Password>${#TestCase#wssePassword}</wsse:Password>
             </wsse:UsernameToken>
         </wsse:Security>
	</soapenv:Header>
	<soapenv:Body>
		<loc:NewOperation xmlns:loc="http://www.example.org/SimpleService/">
			<in>My Simple Service Request</in>
		</loc:NewOperation>
	</soapenv:Body>
</soapenv:Envelope>
]]></con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>My Simple Service Request</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains 1"><con:configuration><token>&lt;soapenv:Envelope</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="restrequest" name="Delete Policy - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/policies/{POLICY_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Policy - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="POLICY_ID" value="auth-type-wsse-p2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Auth - TearDown"><con:settings/><con:config service="smoke" resourcePath="/cxf/e3/prov/v1/auths/{AUTH_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Auth - TearDown" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint><con:request/><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AUTH_ID" value="auth-type-wsse-auth2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete API - TearDown">
				<con:settings/>
				<con:config service="smoke" resourcePath="/cxf/e3/prov/v1/apis/{API_ID}" methodName="DELETE" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete API - TearDown" mediaType="application/xml" accept="application/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Accept" value="application/xml"/>
  <con:entry key="Content-Type" value="application/xml; charset=UTF-8"/>
  <con:entry key="Connection" value="Keep-Alive"/>
  <con:entry key="Cache-Control" value="nocache"/>
</xml-fragment>]]></con:setting>
						</con:settings>
						<con:encoding/>
						<con:endpoint>http://${#Project#E3Manager}:8181</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="API_ID" value="auth-type-wsse-api2" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep><con:properties><con:property><con:name>wsseUsername</con:name><con:value>auth-type-wsse-username2</con:value></con:property><con:property><con:name>wssePassword</con:name><con:value>auth-type-wsse-password2</con:value></con:property><con:property><con:name>wsseBadPassword</con:name><con:value>this-is-a-bad-password</con:value></con:property></con:properties>
		</con:testCase><con:properties/>
	</con:testSuite><con:properties><con:property><con:name>E3Manager</con:name><con:value>e3-dev-59</con:value></con:property><con:property><con:name>E3Gateway</con:name><con:value>e3-dev-59</con:value></con:property><con:property><con:name>Target1</con:name><con:value>192.168.84.90</con:value></con:property><con:property><con:name>Target2</con:name><con:value>192.168.84.103</con:value></con:property><con:property><con:name>Target3</con:name><con:value>192.168.84.184</con:value></con:property><con:property><con:name>uniq</con:name><con:value>delete</con:value></con:property><con:property><con:name>LOG4J_LEVEL_VALUES</con:name><con:value>(ALL|TRACE|DEBUG|INFO|WARN|ERROR|FATAL|OFF)</con:value></con:property><con:property><con:name>STATUS_SUCCESS</con:name><con:value>SUCCESS</con:value></con:property><con:property><con:name>SYSLOG_LEVEL_VALUES</con:name><con:value>(DEBUG|INFO|NOTICE|WARNING|ERR|CRIT|ALERT|EMERG)</con:value></con:property><con:property><con:name>ResponseCodeDown</con:name><con:value>500</con:value></con:property></con:properties><con:wssContainer/><con:sensitiveInformation/></con:soapui-project>